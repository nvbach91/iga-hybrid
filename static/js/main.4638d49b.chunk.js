(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){e.exports=a(234)},164:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=(a(164),a(27)),s=a(30),i=a(28),d=a(31),u=a(78),p=a(52),m=a(37),f=a(145),h=a(7),v=a(305),g=a(313),b=a(308),y=a(74),w=a(6),E=a(287),x=a(311),C=a(283),O=a(284),I=a(285),L=a(286),k=a(132),S=a.n(k),T=a(130),N=a.n(T),A=[{id:"Develop",children:[{id:"Code List Analyzer",icon:r.a.createElement(N.a,null),active:!0}]}];var P=Object(h.a)(function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}})(function(e){var t=e.classes,a=Object(y.a)(e,["classes"]);return r.a.createElement(x.a,Object.assign({variant:"permanent"},a),r.a.createElement(C.a,{disablePadding:!0},r.a.createElement(O.a,{className:Object(w.a)(t.firebase,t.item,t.itemCategory)},"IGA HYBRID"),r.a.createElement(O.a,{className:Object(w.a)(t.item,t.itemCategory)},r.a.createElement(I.a,{className:t.itemIcon},r.a.createElement(S.a,null)),r.a.createElement(L.a,{classes:{primary:t.itemPrimary}},"Project Overview")),A.map(function(e){var a=e.id,n=e.children;return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(O.a,{className:t.categoryHeader},r.a.createElement(L.a,{classes:{primary:t.categoryHeaderPrimary}},a)),n.map(function(e){var a=e.id,n=e.icon,c=e.active;return r.a.createElement(O.a,{key:a,button:!0,className:Object(w.a)(t.item,c&&t.itemActiveItem)},r.a.createElement(I.a,{className:t.itemIcon},n),r.a.createElement(L.a,{classes:{primary:t.itemPrimary}},a))}),r.a.createElement(E.a,{className:t.divider}))})))}),R=a(148),j=a(290),F=a(41),D=a.n(F),G=a(66),B=a.n(G),M=a(39),W=a.n(M),q=a(64),V=a.n(q),U=a(89),H=a.n(U),z=a(288),K=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){return e.apply(n,r)},t)}},_=function(e){for(var t=Object.keys(window.cached.reversePrefixes),a=[],n=0;n<t.length;n++){var r=t[n];e.startsWith(r)&&a.push(r)}for(var c=0;c<a.length;c++){var o=a[c];if(e.length===o.length)return window.cached.reversePrefixes[o]}for(var l=0;l<a.length;l++){var s=a[l];if(e.startsWith(s))return"".concat(window.cached.reversePrefixes[s],":").concat(e.slice(s.length))}return e},Y=function(e){return/^https?:\/\//.test(e)?r.a.createElement(z.a,{href:e,target:"_blank",rel:"noopener noreferrer"},_(e)):e},X=function(e){return r.a.createElement(z.a,{href:e,target:"_blank",rel:"noopener noreferrer"},e)},Q=function(e,t,a){var n=document.createElement("a");n.setAttribute("href","data:text/".concat(a||"plain",";charset=utf-8,")+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},J=function(e,t,a){if(a>=e.length)for(var n=a-e.length+1;n--;)e.push(void 0);e.splice(a,0,e.splice(t,1)[0])},Z=function(e){if(["http://semanticchemistry.github.io/semanticchemistry/ontology/cheminf.owl","http://purl.obolibrary.org/obo/iao.owl","http://purl.obolibrary.org/obo/obi.owl","http://purl.obolibrary.org/obo/chebi.owl","http://purl.obolibrary.org/obo/clo.owl","http://purl.obolibrary.org/obo/go.owl","http://www.bioassayontology.org/bao/bao_complete.owl","http://semanticscience.org/ontology/sio.owl","http://purl.obolibrary.org/obo/pr.owl","http://purl.bioontology.org/ontology/RXNORM/","http://purl.obolibrary.org/obo/ncit.owl","http://purl.bioontology.org/ontology/NCBITAXON/","https://fcp.vse.cz/blazegraphpublic/namespace/biomed"].includes(e))return"https://fcp.vse.cz/blazegraphpublic/namespace/biomed/sparql";switch(e){case"http://dbpedia.org":return"https://dbpedia.org/sparql";default:return"https://fcp.vse.cz/blazegraphpublic/namespace/lov20221023/sparql"}},$={vann:"http://purl.org/vocab/vann/",voaf:"http://purl.org/vocommons/voaf#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",dcterms:"http://purl.org/dc/terms/",dc:"http://purl.org/dc/elements/1.1/",dcmit:"http://purl.org/dc/dcmitype/"},ee=Object.keys($).map(function(e){return"PREFIX ".concat(e,": <").concat($[e],">")}).join("\n")+"\n",te=function(){return"\nSELECT DISTINCT ?vocab\n                (GROUP_CONCAT(DISTINCT ?vp;separator=\" || \") AS ?vocabPrefixes)\n                (GROUP_CONCAT(DISTINCT ?vl;separator=\" || \") AS ?vocabLabels)\n                (COUNT (DISTINCT ?c)  AS ?nClass)\n                #(COUNT (DISTINCT ?sc) AS ?nSubClass)\n                (COUNT (DISTINCT ?i)  AS ?nIns)\nWHERE {\n  ?vocab a voaf:Vocabulary .\n  OPTIONAL { ?vocab vann:preferredNamespacePrefix ?vp }\n  OPTIONAL {\n    VALUES ?vocabLabelProp {\n      rdfs:label dc:title dcterms:title skos:prefLabel\n    }\n    ?vocab ?vocabLabelProp ?vl .\n    FILTER(LANGMATCHES(LANG(?vl), 'en') || LANGMATCHES(LANG(?vl), ''))\n  }\n  OPTIONAL {\n    GRAPH ?vocab {\n      VALUES ?class { owl:Class rdfs:Class } .\n      ?c a ?class .\n      OPTIONAL { ?i a ?c }\n      #OPTIONAL { ?sc rdfs:subClassOf ?c }\n    }\n  }\n} \nGROUP BY ?vocab\nORDER BY DESC(?nIns)\n"},ae=function(e){return"\nSELECT (COUNT(DISTINCT *) AS ?n)\nWHERE {\n  BIND(<".concat(e.p.value,"> AS ?p) .\n  ?s a <").concat(e.s.value,"> .\n  ").concat(e.o.value.startsWith("http://www.w3.org/2001/XMLSchema#")?"":"?o a <".concat(e.o.value,"> ."),"\n  ?s ?p ?o .\n}\n")},ne=function(e){return"\nSELECT DISTINCT ?s ?p ?o\nWHERE {\n  BIND(<".concat(e.p.value,"> AS ?p) .\n  ?s a <").concat(e.s.value,"> .\n  ").concat(e.o.value.startsWith("http://www.w3.org/2001/XMLSchema#")?"":"?o a <".concat(e.o.value,"> ."),"\n  ?s ?p ?o .\n}\n")},re=function(e){return"\nSELECT DISTINCT\n?s ?sp ?sd ?p ?o ?op ?od\n".concat("","\n\nFROM <").concat(e,">\nWHERE {\n  ?p rdfs:isDefinedBy <").concat(e,"> .\n  VALUES ?pt { owl:ObjectProperty owl:DatatypeProperty rdf:Property } .\n  ?p a ?pt .\n  OPTIONAL {\n    ?p rdfs:domain ?s .\n    OPTIONAL {\n      ?p rdfs:subPropertyOf ?op .\n        OPTIONAL { ?op rdfs:range ?od . }\n    }\n  }\n  OPTIONAL {\n    ?p rdfs:range ?o .\n    OPTIONAL {\n      ?p rdfs:subPropertyOf ?sp .\n      OPTIONAL { ?sp rdfs:domain ?sd . }\n    }\n  }\n}\nORDER BY ?s\n")},ce=function(e){return"\nSELECT DISTINCT ?d ?p ?c (COUNT(DISTINCT ?i) AS ?ni)\nFROM <".concat(e,"> \nWHERE {\n  VALUES ?class { owl:Class rdf:Class }\n  ?c a ?class .\n  #?i a|rdfs:subClassOf ?c .\n  ?i a ?c .\n  OPTIONAL { \n    ?p rdfs:range ?c . \n    OPTIONAL { ?p rdfs:domain ?d }\n  }\n} GROUP BY ?d ?p ?c ORDER BY DESC(?ni)\n")},oe=function(e,t){return"\nSELECT DISTINCT ?i ?sc ?scs #?l\nFROM <".concat(t,"> \nWHERE {\n  #OPTIONAL {\n  #  VALUES ?lp { rdfs:label dc:title dcterms:title skos:prefLabel }\n  #  ?i ?lp ?l . \n  #}\n  #?i a|rdfs:subClassOf <").concat(e,"> .\n  ?i a <").concat(e,"> .\n  OPTIONAL {\n    BIND(skos:Concept AS ?sc) .\n    ?i a ?sc .\n  }\n  OPTIONAL {\n    ?i skos:inScheme ?scs .\n    ?scs a skos:ConceptScheme\n  }\n}\nORDER BY ?i\n")},le=function(e,t){return"\nSELECT DISTINCT ?cp ?c ?cn ?i1 ?i1n ?p ?i2 ?i2n\n".concat("","\n").concat(t?"FROM <".concat(t,">"):"","\nWHERE {\n  VALUES ?cp { rdf:type }# rdfs:subClassOf\n  BIND(<").concat(e,"> AS ?c) .\n  ?i1 ?cp ?c .\n  VALUES ?lp { rdfs:label dc:title dcterms:title skos:prefLabel }\n  OPTIONAL { ?c ?lp ?cn . FILTER(LANGMATCHES(LANG(?cn), 'en')) }\n  OPTIONAL { ?i1 ?lp ?i1n . FILTER(LANGMATCHES(LANG(?i1n), 'en'))}\n  OPTIONAL {\n    ?i2 ?cp ?c .\n    ?i1 ?p ?i2 .\n    OPTIONAL { ?i2 ?lp ?i2n . FILTER(LANGMATCHES(LANG(?i2n), 'en')) }\n  }\n}\nORDER BY ?i1\n")},se=function(e,t){var a="",n="";return t.endsWith("#")||t.endsWith("/")?(t.endsWith("#")?a="PREFIX ".concat(_(t),": <").concat(t,">"):t.endsWith("/")||(a="PREFIX ".concat(_("".concat(t,"#")),": <").concat(t,"#>")),t.endsWith("/")?n="PREFIX ".concat(_(t),": <").concat(t,">"):t.endsWith("#")||(n="PREFIX ".concat(_("".concat(t,"/")),": <").concat(t,"/>"))):(a="PREFIX ".concat(_("".concat(t,"#")),": <").concat(t,"#>"),n="PREFIX ".concat(_("".concat(t,"/")),": <").concat(t,"/>")),a.startsWith("PREFIX http")&&(a=""),n.startsWith("PREFIX http")&&(n=""),"\n".concat(a,"\n").concat(n,"\nCONSTRUCT { \n  ?c a owl:Class .\n  ?c rdfs:label ?cn .\n  ?cp a owl:ObjectProperty .\n  ?cp rdfs:range ?c .\n  ?cp rdfs:label ?cpn .\n  ?cp rdfs:domain ?cd .\n  ?cd a owl:Class .\n  ?cd rdfs:label ?cdn .\n  ?i1 ?icr ?c . # WARNING, this predicate is twofold\n  ?i1 a ?skosConcept .\n  ?i1 rdfs:label ?i1n .\n  ?i2 ?icr ?c .\n  ?i2 rdfs:label ?i2n .\n  ?i1 ?p ?i2 .\n}\n").concat("","\n").concat(t?"FROM <".concat(t,">"):"","\nWHERE {\n  VALUES ?icr { rdf:type rdfs:subClassOf }\n  VALUES ?lp { rdfs:label skos:prefLabel }\n  BIND(<").concat(e,"> AS ?c) .\n  ?i1 ?irc ?c .\n  OPTIONAL { \n    ?cp rdfs:range ?c . \n    OPTIONAL { \n      ?cp rdfs:label ?cpn .\n      ?cp rdfs:domain ?cd .\n      OPTIONAL { ?cd rdfs:label ?cdn } \n    }\n  }\n  OPTIONAL { BIND(skos:Concept AS ?skosConcept) . ?i1 a ?skosConcept . }\n  OPTIONAL { ?c ?lp ?cn . FILTER(LANGMATCHES(LANG(?cn), 'en')) }\n  OPTIONAL { ?i1 ?lp ?i1n . FILTER(LANGMATCHES(LANG(?i1n), 'en'))}\n  OPTIONAL {\n    ?i2 ?icr ?c .\n    ?i1 ?p ?i2 .\n    OPTIONAL { ?i2 ?lp ?i2n . FILTER(LANGMATCHES(LANG(?i2n), 'en')) }\n  }\n}\nORDER BY ?i1\n")},ie=function(){return"\nSELECT ?c (COUNT(DISTINCT ?i) AS ?n) {\n  ?c a skos:Concept .\n  FILTER NOT EXISTS {\n    ?b a skos:Concept .\n    ?c skos:broader ?b .\n  }\n  ?i skos:broader ?c .\n}\nGROUP BY ?c\n#HAVING (COUNT(DISTINCT ?i) < 20)\nORDER BY DESC(?n)\n"},de=function(e){return"\nSELECT DISTINCT ?i ?skosConcept\nWHERE {\n  ?i skos:broader <".concat(e,"> .\n  ?i a ?skosConcept .\n}\n")},ue=function(e){return"\nSELECT DISTINCT ?c ?cn ?i1 ?i1n ?p ?i2 ?i2n\nWHERE {\n  VALUES ?lp { rdfs:label }\n  BIND(<".concat(e,"> AS ?c) .\n  ?i1 skos:broader ?c .\n  OPTIONAL { ?c ?lp ?cn . FILTER(LANGMATCHES(LANG(?cn), 'en')) }\n  OPTIONAL { ?i1 ?lp ?i1n . FILTER(LANGMATCHES(LANG(?i1n), 'en'))}\n  OPTIONAL {\n  \t?i2 skos:broader ?c .\n    ?i1 ?p ?i2 .\n    OPTIONAL { ?i2 ?lp ?i2n . FILTER(LANGMATCHES(LANG(?i2n), 'en')) }\n  }\n}\nORDER BY ?i1\n")},pe=function(e){return"\nCONSTRUCT {\n  ?c a owl:Class .\n  ?c rdfs:label ?cn .\n  ?i1 a ?c .\n  ?i1 a ?skosConcept .\n  ?i1 rdfs:label ?i1n .\n  ?i2 a ?c .\n  ?i2 rdfs:label ?i2n .\n  ?i1 ?p ?i2 .\n} \nWHERE {\n  VALUES ?lp { rdfs:label }\n  BIND(<".concat(e,"> AS ?c) .\n  ?i1 skos:broader ?c .\n  OPTIONAL { ?c ?lp ?cn . FILTER(LANGMATCHES(LANG(?cn), 'en')) }\n  OPTIONAL { ?i1 ?lp ?i1n . FILTER(LANGMATCHES(LANG(?i1n), 'en'))}\n  OPTIONAL {\n  \t?i2 skos:broader ?c .\n    ?i1 ?p ?i2 .\n    OPTIONAL { ?i2 ?lp ?i2n . FILTER(LANGMATCHES(LANG(?i2n), 'en')) }\n  }\n}\nORDER BY ?i1\n")},me={headers:{accept:"application/sparql-results+json,*/*;q=0.9","accept-language":"en-US,en;q=0.9","content-type":"application/x-www-form-urlencoded; charset=UTF-8"}},fe=function(e){if(window.cached.vocabs&&!e)return V.a.resolve(window.cached.vocabs);var t,a="query=".concat(ee).concat(te());return W.a.post(Z(),a,me).then(function(e){return(t=e.data).results.bindings=t.results.bindings.filter(function(e,t,a){return a.findIndex(function(t){return t.vocab.value===e.vocab.value})===t}),window.cached.vocabs=t,localStorage.setItem("cached.vocabs",JSON.stringify(t)),localStorage.setItem("cached.vocabs.date",(new Date).toISOString()),t})},he=a(295),ve=a(296),ge=a(289),be=a(57),ye=a(235),we=a(309),Ee=a(97),xe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getRowClassName=function(e){var t=e.index,n=a.props,r=n.classes,c=n.onRowClick;return Object(w.a)(r.tableRow,r.flexContainer,Object(p.a)({},r.tableRowHover,-1!==t&&null!=c))},a.cellRenderer=function(e){var t=e.cellData,n=e.columnIndex,c=a.props,o=c.columns,l=c.classes,s=c.rowHeight,i=c.onRowClick;return r.a.createElement(we.a,{component:"div",className:Object(w.a)(l.tableCell,l.flexContainer,Object(p.a)({},l.noClick,null==i)),variant:"body",style:{height:s},align:null!=n&&o[n].numeric?"right":"left"},t)},a.headerRenderer=function(e){var t=e.label,n=e.columnIndex,c=a.props,o=c.headerHeight,l=c.columns,s=c.classes;return r.a.createElement(we.a,{component:"div",className:Object(w.a)(s.tableCell,s.flexContainer,s.noClick),variant:"head",style:{height:o},align:l[n].numeric?"right":"left"},r.a.createElement("span",null,t))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.columns,c=Object(y.a)(t,["classes","columns"]);return r.a.createElement(Ee.a,null,function(t){var o=t.height,l=t.width;return r.a.createElement(Ee.c,Object.assign({size:"small",height:o,width:l},c,{rowClassName:e.getRowClassName}),n.map(function(t,n){var c=t.dataKey,o=Object(y.a)(t,["dataKey"]);return r.a.createElement(Ee.b,Object.assign({key:c,headerRenderer:function(t){return e.headerRenderer(Object(m.a)({},t,{columnIndex:n}))},className:a.flexContainer,cellRenderer:e.cellRenderer,dataKey:c},o))}))})}}]),t}(r.a.PureComponent);xe.defaultProps={headerHeight:48,rowHeight:48};var Ce=Object(h.a)(function(e){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}})(xe),Oe={backgroundColor:"white",position:"sticky",top:0,fontWeight:"bold"},Ie=Object(ye.a)(function(e){return{head:Oe,headLast:Object(m.a)({},Oe,{width:150}),fragmentButton:{padding:"4px 16px",width:32,justifyContent:"flex-end"}}})(function(e){var t=e.fragments,a=e.showInstances,n=e.showOnlyFullFragments,c=e.vocabIsSelected,o=e.classes,l=t?Object.keys(t).filter(function(e){if(n){var a=t[e],r=a.s,c=a.p,o=a.o;return r&&c&&o}return!0}).map(function(e,n){var c=t[e],l=c.s,s=c.p,i=c.o,d=c.i;return{id:e,index:n+1,s:Y(l?l.value:""),p:Y(s?s.value:""),o:Y(i?i.value:""),i:null===d?r.a.createElement(ge.a,{size:26}):r.a.createElement(j.a,{className:o.fragmentButton,onClick:a(e),color:"primary"},d,d?r.a.createElement("span",null,"\xa0"):"",d?r.a.createElement(D.a,null):"")}}):[];return r.a.createElement(R.a,{style:{height:620,width:"100%"}},r.a.createElement(Ce,{rowCount:l.length,rowGetter:function(e){var t=e.index;return l[t]},columns:[{width:100,label:"(".concat(l.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:"Subject",dataKey:"s"},{flexGrow:1,width:0,label:"Predicate",dataKey:"p"},{flexGrow:1,width:0,label:"Object",dataKey:"o"},{width:150,label:"Instances",dataKey:"i"}]}),c&&!Object.keys(t).length&&r.a.createElement(be.a,{variant:"subtitle2"},"No class fragment found in this ontology"))}),Le=Object(h.a)(function(e){return{head1:{backgroundColor:"white",position:"sticky",top:0},head2:{backgroundColor:"#004b6e",color:"white",position:"sticky",top:40,fontWeight:"bold"}}})(function(e){var t=e.fragmentInstancesLoading,a=e.fragmentInstances,n=e.classFragment,c=(e.classes,a?a.map(function(e,t){var a=e.s,n=e.p,r=e.o;return{id:t,index:t+1,s:Y(a.value),p:Y(n.value),o:Y(r.value)}}):[]);return r.a.createElement(R.a,{style:{height:620,width:"100%"}},t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ge.a,{size:40})):r.a.createElement(Ce,{rowCount:c.length,rowGetter:function(e){var t=e.index;return c[t]},columns:[{width:100,label:"(".concat(c.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Subject class\xa0(",Y(n?n.s.value:""),")"),dataKey:"s"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Predicate\xa0(",Y(n?n.p.value:""),")"),dataKey:"p"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Object class\xa0(",Y(n?n.o.value:""),")"),dataKey:"o"}]}))}),ke=a(300),Se=a(310),Te=a(135),Ne=a.n(Te),Ae=a(91),Pe=a(294),Re=a(147),je=a(292),Fe=a(293),De=a(92),Ge=a.n(De),Be=a(93),Me=a.n(Be),We=a(291),qe=a(297),Ve=a(298),Ue=a(299),He={option:function(e,t){t.data,t.isDisabled,t.isFocused,t.isSelected;return Object(m.a)({},e,{textAlign:"left",padding:"10px"})}},ze=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={networkError:!1,selectOptions:[{value:"",label:"Loading, ... please wait"}],selectedOption:null,loading:!1},a.componentWillMount=function(){fe().then(function(e){var t=[];e.results.bindings.forEach(function(e){t.push({iri:e.vocab.value,label:e.vocabLabels?e.vocabLabels.value:"[Unknown vocab label]",nClass:e.nClass.value,nIns:e.nIns.value})}),J(t,6,0),J(t,7,1),J(t,8,2),J(t,9,3),a.setState({loading:!1,selectOptions:t.map(function(e,t){var a=e.iri,n=e.label,r=e.nClass,c=e.nIns;return{value:a,label:"[".concat(t+1,"] - ").concat(a).concat(n?" - ".concat(n):"",", classes: ").concat(r,", instances: ").concat(c)}})},a.props.onLoad)}).catch(function(e){a.handleNetworkError()})},a.handleNetworkError=function(){a.setState({networkError:!0})},a.handleSelectChange=function(e){a.setState({selectedOption:e}),a.props.onVocabSelected(e)},a.closeModal=function(){a.setState({networkError:!1})},a.render=function(){var e=a.props.classes;return r.a.createElement(We.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(je.a,null,r.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ge.a,{className:e.block,color:"inherit"})),r.a.createElement(Pe.a,{className:a.props.classes.formControl},r.a.createElement(Re.a,{styles:He,TextFieldProps:{label:"Ontology IRI",placeholder:"Type to search for ontology"},options:a.state.selectOptions,onChange:a.handleSelectChange})),r.a.createElement(Fe.a,{item:!0},r.a.createElement("div",{className:e.submitButton},r.a.createElement(j.a,{color:"primary",onClick:a.props.onShowSparql,disabled:!a.state.selectedOption},r.a.createElement("div",{className:e.submitButtonContent},r.a.createElement(D.a,{style:{fontSize:24}}),"\xa0View SPARQL")),r.a.createElement(j.a,{color:"primary",onClick:a.props.onReloadClick,disabled:!a.state.selectedOption},r.a.createElement("div",{className:e.submitButtonContent},a.state.loading||a.props.loading?r.a.createElement(ge.a,{size:20}):r.a.createElement(Me.a,{style:{fontSize:20}}),"\xa0",a.state.loading||a.props.loading?"Loading...":"Reload")))))),r.a.createElement(he.a,{onClose:a.closeModal,open:!!a.state.networkError},r.a.createElement(ve.a,null,"Info"),r.a.createElement(qe.a,null,r.a.createElement(Ve.a,null,'Oops! Looks like the SPARQL endpoint is not working. Please try again later or try clicking on the button "Reload ontology list".',r.a.createElement("br",null),X(Z()))),r.a.createElement(Ue.a,null,r.a.createElement(j.a,{onClick:a.closeModal,color:"primary"},"Close"))))},a}return Object(d.a)(t,e),t}(r.a.Component),Ke=Object(h.a)(function(e){return{formControl:{flexGrow:1},submitButton:{marginRight:e.spacing(1),minWidth:140},submitButtonContent:{display:"flex",alignItems:"center",justifyContent:"center",width:120}}})(ze),_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={fragments:{},selectedVocabOption:null,loading:!1,fragmentInstances:null,classFragment:null,sparqlPreview:!1,showOnlyFullFragments:"true"===localStorage.getItem("preferences.showOnlyFullFragments")},a.onVocabSelected=function(e){a.setState({selectedVocabOption:e},function(){a.fetchClassFragments()})},a.handleInputChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.checked)),"showOnlyFullFragments"===e&&localStorage.setItem("preferences.showOnlyFullFragments",t.target.checked)}},a.fetchClassFragments=function(){a.setState({loading:!0});var e="query=".concat(ee).concat(re(a.state.selectedVocabOption.value));return W.a.post(Z(),e,me).then(function(e){var t={};e.data.results.bindings.forEach(function(e){var a=e.s,n=e.sd,r=e.p,c=e.o,o=e.od,l=H()(),s={s:a||(n||n||null),p:r,o:c||(c||o||null)};s.i=s.s&&s.o&&s.p?null:0,t[l]=s}),a.setState({fragments:t,loading:!1},function(){a.fetchFragmentInstances()})})},a.fetchFragmentInstances=function(){var e=a.state.fragments,t=Object.keys(e).filter(function(t){var n=e[t],r=n.s,c=n.p,o=n.o;return!a.state.showOnlyFullFragments||r&&c&&o}),n=Ne()(t,10);V.a.each(n,function(t){var n={};return V.a.delay(500).then(function(){return V.a.map(t,function(t){var a=e[t],r=a.s,c=a.p,o=a.o;if(r&&c&&o){var l="query=".concat(ee).concat(ae(e[t]));return W.a.post(Z(),l,me).then(function(e){n[t]=e.data.results.bindings[0].n.value})}return V.a.delay(0)})}).then(function(){var t=Object(m.a)({},e);Object.keys(n).forEach(function(e){t[e].i=n[e]}),a.setState({fragments:t})})})},a.showSparqlPreview=function(e){return function(){a.setState({sparqlPreview:e})}},a.showInstances=function(e){return function(){var t=a.state.fragments[e],n=t.s,r=t.p,c=t.o;if(!n||!r||!c)return!1;var o="query=".concat(ee).concat(ne(a.state.fragments[e]));return a.setState({fragmentInstancesLoading:!0}),W.a.post(Z(),o,me).then(function(e){a.setState({fragmentInstancesLoading:!1,fragmentInstances:e.data.results.bindings,classFragment:{s:n,p:r,o:c}})})}},a.closeSparqlModal=function(){a.setState({sparqlPreview:!1})},a.closeInstancesModal=function(){a.setState({fragmentInstances:null,classFragment:null})},a.render=function(){var e=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.controls},r.a.createElement(be.a,{align:"left",variant:"h5"},"Find class fragments"),r.a.createElement("div",null,r.a.createElement(ke.a,{control:r.a.createElement(Se.a,{checked:a.state.showOnlyFullFragments,onChange:a.handleInputChange("showOnlyFullFragments"),value:"showOnlyFullFragments",color:"primary"}),label:"Show only full fragments"}),r.a.createElement(j.a,{color:"primary",onClick:a.showSparqlPreview(re(a.state.selectedVocabOption?a.state.selectedVocabOption.value:"__YOUR_SELECTED_VOCAB__").trim())},"View SPARQL\xa0",r.a.createElement(D.a,null)))),r.a.createElement(be.a,{align:"left",variant:"subtitle2"},"This tool will help you identify class fragments in a selected ontology and fetch their instances. Begin by selecting an ontology in the list below."),r.a.createElement(R.a,{className:e.paper},r.a.createElement(Ke,{onVocabSelected:a.onVocabSelected,onReloadClick:a.fetchClassFragments}),r.a.createElement(R.a,{className:e.root},r.a.createElement(Ie,{fragments:a.state.fragments,showInstances:a.showInstances,showOnlyFullFragments:a.state.showOnlyFullFragments,vocabIsSelected:!!a.state.selectedVocabOption}))),r.a.createElement(he.a,{onClose:a.closeInstancesModal,open:!(!a.state.fragmentInstances&&!a.state.fragmentInstancesLoading),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ve.a,null,r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"Class fragment instances in ",a.state.selectedVocabOption&&Y(a.state.selectedVocabOption.value)),a.state.classFragment&&r.a.createElement("span",null,r.a.createElement(j.a,{color:"primary",onClick:a.showSparqlPreview(ne(a.state.classFragment).trim())},"View SPARQL\xa0",r.a.createElement(D.a,null)),r.a.createElement(j.a,{color:"primary",onClick:a.closeInstancesModal},r.a.createElement(B.a,null))))),r.a.createElement(Le,{fragmentInstancesLoading:a.state.fragmentInstancesLoading,fragmentInstances:a.state.fragmentInstances,classFragment:a.state.classFragment})),r.a.createElement(he.a,{onClose:a.closeSparqlModal,open:!!a.state.sparqlPreview,fullWidth:!0,maxWidth:"md"},r.a.createElement(ve.a,null,r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"SPARQL query preview"),r.a.createElement(j.a,{color:"primary",onClick:a.closeSparqlModal},r.a.createElement(B.a,null))),r.a.createElement(be.a,{variant:"body2"},"See also ",X("https://github.com/nvbach91/iga-hybrid"))),r.a.createElement("div",{className:"code-mirror-container"},r.a.createElement(Ae.UnControlled,{value:a.state.sparqlPreview,options:{mode:"sparql",lineNumbers:!0,readOnly:!0}}))))},a}return Object(d.a)(t,e),t}(r.a.Component),Ye=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},codeBlock:{padding:"10px",width:"calc(100% - 24px)",margin:"10px auto",fontWeight:"bold",backgroundColor:"#ccc",height:"auto",border:"none"},controls:{display:"flex",justifyContent:"space-between"},dialogTitle:{display:"flex",justifyContent:"space-between"}}})(_e),Xe=a(140),Qe=a.n(Xe),Je=a(139),Ze=a.n(Je),$e={backgroundColor:"white",position:"sticky",top:0,fontWeight:"bold"},et=Object(ye.a)(function(e){return{head:$e,headLast:Object(m.a)({},$e,{width:150}),fragmentButton:{padding:"4px 16px",minWidth:96,justifyContent:"flex-end"}}})(function(e){var t=e.codeLists,a=e.showInstances,n=e.vocabIsSelected,c=e.classes,o=e.loading,l=t?Object.keys(t).map(function(e,n){var o=t[e],l=o.d,s=o.p,i=o.c,d=o.ni;return{id:e,index:n+1,d:Y(l?l.value:""),p:Y(s?s.value:""),c:Y(i?i.value:""),ni:d?d.value:"",i:d?r.a.createElement(j.a,{className:c.fragmentButton,onClick:a(e),color:"primary"},d.value,"\xa0",r.a.createElement(D.a,null)):0}}):[];return r.a.createElement(R.a,{style:{height:620,width:"100%"}},(!n||Object.keys(t).length||o)&&r.a.createElement(Ce,{rowCount:l.length,rowGetter:function(e){var t=e.index;return l[t]},columns:[{width:100,label:"(".concat(l.length,") #"),dataKey:"index",numeric:!0},{flexGrow:1,width:0,label:"Domain",dataKey:"d"},{flexGrow:1,width:0,label:"Property",dataKey:"p"},{flexGrow:1,width:0,label:"Code list (Range)",dataKey:"c"},{flexGrow:1,width:0,label:"Members",dataKey:"ni"},{width:150,label:"View",dataKey:"i"}]}),n&&!Object.keys(t).length&&!o&&r.a.createElement(R.a,null,r.a.createElement(be.a,{variant:"subtitle2"},"No code lists found in this ontology"),r.a.createElement(be.a,{variant:"body2"},"Please select another ontology in the list")))}),tt=Object(h.a)(function(e){return{head1:{backgroundColor:"white",position:"sticky",top:0},head2:{backgroundColor:"#004b6e",color:"white",position:"sticky",top:40,fontWeight:"bold"}}})(function(e){var t=e.loading,a=e.codeListInstances,n=(e.codeList,e.classes,a?a.map(function(e,t){var a=e.i,n=e.sc,r=e.scs;return{id:t,index:t+1,i:Y(a.value),skosConcept:Y(n?n.value:"Not a skos:Concept"),skosConceptScheme:Y(r?r.value:"None")}}):[]);return r.a.createElement(R.a,{style:{height:620,width:"100%"}},t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ge.a,{size:40})):r.a.createElement(Ce,{rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},columns:[{width:100,label:"(".concat(n.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:2,width:0,label:"Instance",dataKey:"i"},{flexGrow:1,width:0,label:"skos:Concept",dataKey:"skosConcept"},{flexGrow:2,width:0,label:"skos:inScheme",dataKey:"skosConceptScheme"}]}))}),at=function(e){var t={},a=[],n={};e.forEach(function(e){t[e.c.value]&&!e.cn||(t[e.c.value]={type:"class",name:_(e.c.value),label:e.cn?e.cn.value:_(e.c.value)}),t[e.i1.value]&&!e.i1n||(t[e.i1.value]={type:"rdfsClass",name:_(e.i1.value),label:e.i1n?e.i1n.value:_(e.i1.value)}),n["".concat(e.i1.value,"|").concat(e.c.value)]||(a.push({s:e.i1.value,p:e.cp.values,o:e.c.value,label:_(e.cp.value)}),n["".concat(e.i1.value,"|").concat(e.c.value)]=!0),e.i2&&(t[e.i2.value]={type:"rdfsClass",name:_(e.i2.value),label:e.i2n?e.i2n.value:_(e.i2.value)},a.push({s:e.i1.value,p:e.p.value,o:e.i2.value,label:_(e.p.value)}))});var r={};return t=Object.keys(t).slice(0,100).map(function(e,a){r[e]=a;var n=t[e],c=n.name,o=n.type,l=n.label;return{fullName:c+(l?l===c?"":" -- "+l:""),name:l,type:o,uri:e}}),a=a.filter(function(e){var t=e.s,a=e.o;return r[t]>=0&&r[a]>=0}).map(function(e){var t=e.s,a=e.o;return{source:r[t],target:r[a],valueTo:e.label,uriTo:e.p}}),{info:[{title:"Code list structure graph",url:"http://codelist.cc",version:"1.0.0",authors:"Nguyen, V.B.",description:"A code list structure graph"}],nodes:t,links:a}},nt=function(e){var t,a,n,r,c,o,l,s,i,d,u,p,m,f=window.d3,h=window.innerWidth,v=window.innerHeight,g=240,b=g,y=g,w=20,E=60,x=50,C=30,O=40,I=28,L=120,k=12,S=f.svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("cardinal"),T=f.svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("cardinal").tension(-1),N=f.behavior.zoom().scaleExtent([.1,4]).on("zoom",function(){o.attr("transform","translate("+f.event.translate+")scale("+f.event.scale+")")});var A=function(){i.attr("d",function(e){if(e.source===e.target)return function(e){var t=e.source,a=360/e.selfLinkCount,n=Math.min(60,.8*a),r=V(a*e.selfLinkIndex),c=V(a*e.selfLinkIndex+n),o=Math.cos(r)*t.radius,l=Math.sin(r)*t.radius,s=Math.cos(c)*t.radius,i=Math.sin(c)*t.radius,d={x:t.x+o,y:t.y+l},u={x:t.x+s,y:t.y+i},p=(o+s)/2*2.5,m=(l+i)/2*2.5,f={x:t.x+p,y:t.y+m};return e.curvePoint=f,T([d,f,u])}(e);var t=function(e,t,a){var n=function(e){var t=Math.floor((e.multiLinkIndex-e.multiLinkCount%2)/2)+1,a=e.multiLinkCount%2*15,n=0;switch(t){case 1:n=20+a;break;case 2:n=45+a}return n*(b/g)}(a),r=t.x-e.x,c=t.y-e.y,o=e.x+r/2,l=e.y+c/2,s=q(e,t,n);a.source.index<a.target.index&&(s.x=-s.x,s.y=-s.y);a.multiLinkIndex%2!==0&&(s.x=-s.x,s.y=-s.y);return{x:o+s.x,y:l+s.y}}(F(e.target,e.source,1),F(e.source,e.target,1),e);return e.curvePoint=t,S([F(e.curvePoint,e.source,1),t,F(e.curvePoint,e.target,1)])}),u.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),d.selectAll("g").attr("transform",function(e){var t;t=f.select(this).classed("to")?F(e.curvePoint,e.source,20):F(e.curvePoint,e.target,20);var a=q(e.curvePoint,e.source,10);return e.source.index<e.target.index&&(a.x=-a.x,a.y=-a.y),"translate("+(t.x+a.x)+","+(t.y+a.y)+")"}),l.selectAll("g").attr("transform",function(e){var t=f.select(this),a=e.curvePoint.x,n=e.curvePoint.y;return e.inverse&&(t.classed("to")?n+=I/2+1:t.classed("from")&&(n-=I/2+1)),"translate("+a+","+n+")"})};String.prototype.width=function(e){e||(e="text");var t=f.select("body").append("div").attr("class",e).attr("id","width-test").text(this),a=document.getElementById("width-test").offsetWidth;return t.remove(),a},String.prototype.truncate=function(e,t){if(e-=4,isNaN(e)||e<=0)return this;for(var a,n,r=this,c=this.length;!((a=r.width(t))<=e);)n=a/e,c=Math.floor(c/n),r=r.substring(0,c);return this.length>c?this.substring(0,c-3)+"...":this};var P=function(e){return"special"===e.type},R=function(){N.translate([0,0]).scale(1),o.attr("transform","translate("+N.translate()+")scale("+N.scale()+")"),void 0!==t&&t.property("value",g),void 0!==r&&r.property("value",g),M(),f.select("#otherDetails").classed("hidden",!0)},j=function(){for(var e=0;e<p.nodes.length;e++){var t,a,n=p.nodes[e];switch(n.type){case"deprecated":case"external":case"equivalent":case"rdfsClass":case"class":a=x,t=2*x;break;case"union":case"intersection":case"complement":a=O;break;case"rdfsResource":case"thing":a=C,t=2*C;break;case"literal":case"datatype":n.height=w,n.width=E,t=E}n.maxTextWidth=t,n.radius=a}p.links.forEach(function(e){var t=0;if(isNaN(e.multiLinkCount)){var a=[];for(p.links.forEach(function(t){(e.source===t.source&&e.target===t.target||e.target===t.source&&e.source===t.target)&&a.push(t)}),t=0;t<a.length;t++)a[t].multiLinkCount=a.length,a[t].multiLinkIndex=t}if(isNaN(e.selfLinkCount)){var n=[];for(p.links.forEach(function(t){e.source===t.source&&e.target===t.target&&n.push(t)}),t=0;t<n.length;t++)n[t].selfLinkCount=n.length,n[t].selfLinkIndex=t}}),B()};function F(e,t,a){var n=t.x-e.x,r=t.y-e.y,c=t.radius;if("literal"===t.type||"datatype"===t.type)if(Math.abs(r/n)<=t.height/t.width){var o=r/(n/(t.width/2));c=Math.sqrt(Math.pow(t.width/2,2)+o*o)}else{var l=n/(r/(t.height/2));c=Math.sqrt(Math.pow(t.height/2,2)+l*l)}var s=Math.sqrt(n*n+r*r),i=(s-(c+a))/s;return{x:n*i+e.x,y:r*i+e.y}}var D=function(e,t){var a=t;return a+=e.target.radius,a+=e.source.radius},G=function(e){return"literal"===e.source.type||"literal"===e.target.type||"datatype"===e.source.type||"datatype"===e.target.type?D(e,y):D(e,b)},B=function(){void 0!==t&&t.property("value",b),void 0!==a&&a.html(b),void 0!==r&&r.property("value",y),void 0!==n&&n.html(y)},M=function(){b=+t.property("value"),y=+r.property("value"),c.charge(W()),c.start(),B()};window.centerGraph=function(){var e=setInterval(M,200);setTimeout(function(){clearInterval(e)},2e3)};var W=function(){var e=b/g*-1e3,t=y/g*-1e3;return Math.min(e,t)};function q(e,t,a){var n=t.x-e.x,r=-(t.y-e.y),c=n,o=a/Math.sqrt(r*r+c*c);return{x:r*o,y:c*o}}function V(e){(e%=360)<0&&(e+=360);var t=2*Math.PI*e/360;return t<0&&(t+=2*Math.PI),t}function U(e,t){return(e.type?e.type:"normal")+e.id+(t?"inverse":"")}function H(e,t,a){e.append("marker").attr("id",U(t,a)).attr("viewBox","0 -8 14 16").attr("refX",a?0:12).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("markerUnits","userSpaceOnUse").attr("orient","auto").attr("class",(t.type?t.type:"normal")+"Marker").append("path").attr("d",function(){return a?"M12,-8L0,0L12,8Z":"M0,-8L12,0L0,8Z"})}function z(e,t,a){e.append("rect").attr("class",function(){var e=t.propertyTo;return"from"===a&&(e=t.propertyFrom),e||"object"}).classed("property",!0).attr("x",-L/2).attr("y",-I/2).attr("width",L).attr("height",I).on("mouseenter",function(e){!function(e,t){var a="from"===t;f.selectAll("marker#"+U(e,a)).select("path").classed("hovered",!0),f.selectAll("."+U(e,a)).selectAll("path, text").classed("hovered",!0),o.selectAll(".label").sort(function(t,a){return t.id===e.id&&a.id!==e.id?1:t.id!==e.id&&a.id===e.id?-1:t.id-a.id})}(e,a),se(e,a,!0)}).on("mouseleave",function(e){!function(e,t){var a="from"===t;f.selectAll("marker#"+U(e,a)).select("path").classed("hovered",!1),f.selectAll("."+U(e,a)).selectAll("path, text").classed("hovered",!1)}(e,a),se(e,a,!1)})}function K(e,t,a){var n=e.append("g").attr("id","label"+t.id+a).classed(a,!0);if(z(n,t,a),"disjoint"!==t.propertyTo){var r=n.append("text").classed("text",!0).attr("text-anchor","middle");!function(e,t,a){e.append("tspan").attr("class",function(){var e="";switch(e=void 0!==t.typeTo||void 0!==t.typeFrom?e.concat("mainText"):e.concat("text"),t.propertyTo){case"external":return e=e.concat(" white")}switch(t.propertyFrom){case"external":return e=e.concat(" white")}return e}).text(function(){return("to"===a?t.valueTo:"from"===a?t.valueFrom:t.valueTo?t.valueTo:t.valueFrom).toString().truncate(L)})}(r,t,a),function(e,t,a){var n;if("to"===a){if(!t.typeTo)return;n=t.typeTo}else if("from"===a){if(!t.typeFrom)return;n=t.typeFrom}else{var r=t.typeTo?t.typeTo:t.typeFrom;if(!r)return;n=r}var c=")("+n.toString().truncate(L,"subtext");e.append("tspan").attr("x",0).attr("y",9).attr("class","subtext").text("("+c.substr(2)+")")}(r,t,a),function(e,t,a){var n;if("to"===a){if(!t.equivPropTo)return;n=t.equivPropTo}else if("from"===a){if(!t.subPropFrom)return;n=t.subPropFrom}else{var r=t.equivPropTo?t.equivPropTo:t.subPropFrom;if(!r)return;n=r}var c="]["+n.toString().truncate(L,"subtext");e.append("tspan").attr("x",0).attr("y",9).attr("class","subtext").text("["+c.substr(2)+"]")}(r,t,a)}else!function(e){e.append("circle").classed("symbol",!0).classed("fineline",!0).attr("cx",-12.5).attr("r",10),e.append("circle").classed("symbol",!0).classed("fineline",!0).attr("cx",12.5).attr("r",10),e.append("text").classed("text",!0).attr("text-anchor","middle").attr("transform","translate(0,20)").append("tspan").classed("subtext",!0).text("(disjoint)")}(n)}function _(e,t){e.append("g").attr("class",function(e){return U(e,"to"===t)}).classed(t,!0).append("text").classed("cardinality",!0).attr("text-anchor","middle").text(function(e){return"to"===t?e.cardTo:e.cardFrom})}function Y(e,t,a){void 0!==e&&void 0!==t&&e.append("tspan").attr("class",a).classed("text",!0).attr("x",0).attr("y",function(){return(e.property("childNodes").length-1)*k}).text(t)}function X(e,t,a){void 0!==e&&void 0!==t&&e.append("tspan").attr("class",a).classed("text",!0).classed("subtext",!0).attr("x",0).attr("y",function(){return(e.property("childNodes").length-1)*k}).text(t)}function Q(e){e.append("text").classed("text",!0).attr("text-anchor","middle")}var J=function(e){if(e.classed("node"))return"node";var t=e.node().parentNode;return void 0!==t&&f.select(t).classed("label")?"label":void 0},Z=function(e){var t=e.select("*");t.classed("focused")?t.classed("focused",!1):t.classed("focused",!0)},$=function(e){var t=e.classed("from"),a=e.select("rect"),n=!a.classed("focused");a.classed("focused",n),f.selectAll("marker#"+U(e.datum(),t)).select("path").classed("focused",n),f.selectAll("."+U(e.datum(),t)).selectAll("path, text").classed("focused",n)},ee=function(e){var t,a=e.node();if(void 0!==m){t=f.select(m);var n=J(t);"node"===n?Z(t):"label"===n&&$(t)}if(m===a)return de(),void(m=void 0);m=a;var r=J(e);"node"===r?Z(e):"label"===r&&$(e)},te=function(){o.selectAll(".node").on("click",function(e){f.select("#otherDetails").classed("hidden",!1),f.select("#class").classed("hidden",!1),f.select("#prop").classed("hidden",!0),ne(f.select("#name"),e.name,e.uri);var t=f.select("#classEquivUri");if(null===t.node());else{var a=f.select(t.node().parentNode);void 0!==e.equivalentClasses?(ae(t,e.equivalentClasses),a.classed("hidden",!1)):a.classed("hidden",!0)}f.select("#typeNode").text(ce(e.type));var n=f.select("#disjointNodes");if(null===t.node());else{var r=f.select(n.node().parentNode);void 0!==e.disjoints?(ae(n,e.disjoints),r.classed("hidden",!1)):r.classed("hidden",!0)}ee(f.select(this))})},ae=function(e,t){e.selectAll("*").remove(),t.forEach(function(t,a){a>0&&e.append("span").text(", "),re(e,t.name,t.uri)})},ne=function(e,t,a){e.selectAll("*").remove(),re(e,t,a)},re=function(e,t,a){(a?e.append("a").attr("href",a):e.append("span")).text(t)},ce=function(e){switch(e){case"class":return"OWL Class";case"thing":return"Thing";case"external":return"External Class";case"equivalent":return"Equivalent Class";case"deprecated":return"Deprecated Class";case"rdfsClass":return"RDFS Class";case"rdfsResource":return"RDFS Resource";case"literal":return"Literal";case"datatype":return"Datatype";case"union":return"Union Of";case"intersection":return"Intersection Of";case"complement":return"Complement Of"}},oe=function(e){switch(e){case"object":return"Object Property";case"datatype":return"Datatype Property";case"rdf":return"RDF Property";case"deprecated":return"Deprecated Property";case"external":return"External Property";case"disjoint":return"Disjoint With";case"subclass":return"Subclass of";default:return"Object Property"}},le=function(){o.selectAll(".label .from").on("click",function(e){ie(),ne(f.select("#propname"),e.valueFrom,e.uriFrom),f.select("#typeProp").text(oe(e.propertyFrom)),!0===e.inverse?(f.select("#inverse").style("display","block"),ne(f.select("#inverse span"),e.valueTo,e.uriTo)):f.select("#inverse").style("display","none"),void 0!==e.cardTo?(f.select("#minCardinality").style("display","block"),f.select("#minCardinality span").text(e.cardFrom)):f.select("#minCardinality").style("display","none"),void 0!==e.cardFrom?(f.select("#maxCardinality").style("display","block"),f.select("#maxCardinality span").text(e.cardTo)):f.select("#maxCardinality").style("display","none"),ne(f.select("#domain"),e.target.name,e.target.uri),ne(f.select("#range"),e.source.name,e.source.uri),ee(f.select(this))}),o.selectAll(".label .to").on("click",function(e){ie(),ne(f.select("#propname"),e.valueTo,e.uriTo),f.select("#typeProp").text(oe(e.propertyTo)),!0===e.inverse?(f.select("#inverse").style("display","block"),ne(f.select("#inverse span"),e.valueFrom,e.uriFrom)):f.select("#inverse").style("display","none"),void 0!==e.cardTo?(f.select("#minCardinality").style("display","block"),f.select("#minCardinality span").text(e.cardTo)):f.select("#minCardinality").style("display","none"),void 0!==e.cardFrom?(f.select("#maxCardinality").style("display","block"),f.select("#maxCardinality span").text(e.cardFrom)):f.select("#maxCardinality").style("display","none"),ne(f.select("#domain"),e.source.name,e.source.uri),ne(f.select("#range"),e.target.name,e.target.uri),ee(f.select(this))})},se=function(e,t,a){var n=e.subpropertiesTo;"from"===t&&(n=e.subpropertiesFrom),void 0!==n&&n.forEach(function(e){f.select("#label"+e.id+(e.direction?e.direction:"to")).select("rect").classed("indirectHighlighting",a)})},ie=function(){f.select("#otherDetails").classed("hidden",!1),f.select("#prop").classed("hidden",!1),f.select("#class").classed("hidden",!0)},de=function(){f.select("#otherDetails").classed("hidden",!0)};var ue=document.getElementById("graph"),pe=window.innerHeight-220,me=document.getElementById("example").offsetWidth;p=e,function(e,m,g){var b=f.select(e).attr("id","graph");void 0!==m&&(h=m),void 0!==g&&(v=g),b.select(".svgGraph").remove(),o=b.append("svg").classed("svgGraph",!0).attr("width",h).attr("height",v).call(N).append("g");var y=document.getElementById("resetOption"),I=document.getElementById("sliderOption"),L=document.getElementById("distanceSlider"),S=document.getElementById("reset");L&&L.remove(),S&&S.remove(),f.select(y).append("button").attr("id","reset").property("type","reset").text("Reset").on("click",R);var T=f.select(I).append("div").attr("id","distanceSlider");a=T.append("label").attr("for","distanceSlider").text("DEFAULT_VISIBLE_LINKDISTANCE"),n=a,t=T.append("input").attr("type","range").attr("min",10).attr("max",600).attr("value","DEFAULT_VISIBLE_LINKDISTANCE").attr("step",10).on("input",M),r=t,j(),c=f.layout.force().charge(W()).distance(G).gravity(.025).linkStrength(.7).size([h,v]).nodes(p.nodes).links(p.links).on("tick",A).start();var F=o.append("defs");p.links.forEach(function(e,t){e.id=t,P(e)||(H(F,e,!1),e.inverse&&H(F,e,!0))}),s=o.selectAll(".link").data(p.links).enter().append("g").attr("class",function(e){return U(e,!0)+" "+U(e,!1)}).classed("link",!0),i=s.append("path").attr("class",function(e){return e.type}).classed("link-path",!0).attr("marker-end",function(e){return P(e)?"":"url(#"+U(e,!1)+")"}).attr("marker-start",function(e){return e.inverse&&!P(e)?"url(#"+U(e,!0)+")":""}),(l=(l=o.selectAll(".label").data(p.links).enter().append("g").classed("label",!0)).filter(function(e){var t=e.valueTo||e.valueFrom;return"disjoint"===e.propertyTo&&(t=!0),t})).filter(function(e){return!e.inverse}).each(function(e){K(f.select(this),e,"to")}),l.filter(function(e){return e.inverse}).each(function(e){K(f.select(this),e,"to"),K(f.select(this),e,"from")}),(d=(d=o.selectAll(".cardinality").data(p.links).enter().append("g").classed("cardinality",!0)).filter(function(e){return e.cardTo||e.cardFrom})).filter(function(e){return e.cardTo}).each(function(){_(f.select(this),"to")}),d.filter(function(e){return e.cardFrom}).each(function(){_(f.select(this),"from")});var D=f.behavior.drag().on("dragstart",function(e){f.event.sourceEvent.stopPropagation(),e.fixed=!0}).on("drag",function(e){e.px=f.event.x,e.py=f.event.y,c.resume()}).on("dragend",function(e){e.fixed=!1});(u=o.selectAll(".node").data(p.nodes).enter().append("g").attr("class","node").on("mouseover",function(e){e.linkIDs&&e.linkIDs.forEach(function(e){f.select(s[0][e]).select("path").classed("hovered",!0)})}).on("mouseout",function(e){e.linkIDs&&e.linkIDs.forEach(function(e){f.select(s[0][e]).select("path").classed("hovered",!1)})}).call(D)).each(function(e){var t=f.select(this);switch(e.type){case"class":!function(e,t){if(void 0!==e)if(void 0!==t?e.append("circle").attr("class",t.type).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").attr("r",x),Q(e),void 0!==t){var a=t.name.split("/");a.forEach(function(t,n){Y(e.select("text"),t+(n<a.length-1?"/":""))}),e.append("title").text(t.fullName+" -- "+t.uri)}else Y(e.select("text"),"Class")}(t,e);break;case"thing":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("white",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").classed("white",!0).classed("special",!0).attr("r",C),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Thing"))}(t,e);break;case"equivalent":!function(e,t){if(void 0!==e){if(void 0!==t?(e.append("circle").attr("class","class white embedded").attr("r",t.radius),e.append("circle").attr("class","class").attr("r",function(){return t.radius-4})):(e.append("circle").attr("class","class").attr("r",x-4),e.append("circle").attr("class","link").attr("r",x)),Q(e),void 0!==t){Y(e.select("text"),t.name.truncate(t.maxTextWidth));var a=t.equivalentClasses.map(function(e){return e.name}),n=a.join(", ");X(e.select("text"),"["+n.truncate(t.maxTextWidth)+"]")}else Y(e.select("text"),"EquivalentClass");var r=(e.select("text").property("childElementCount")-1)*k/2;e.select("text").attr("transform",function(){return"translate(0,-"+r+")"})}}(t,e);break;case"deprecated":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","deprecated").classed("class",!0).attr("r",x),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Deprecated"),X(e.select("text"),"(deprecated)");var a=(e.select("text").property("childElementCount")-1)*k/2;e.select("text").attr("transform",function(){return"translate(0,-"+a+")"})}}(t,e);break;case"external":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","external").classed("class",!0).attr("r",x),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"External","white"),X(e.select("text"),"(external)","white");var a=(e.select("text").property("childElementCount")-1)*k/2;e.select("text").attr("transform",function(){return"translate(0,-"+a+")"})}}(t,e);break;case"literal":!function(e,t){void 0!==e&&(void 0!==t?e.append("rect").attr("class",t.type).classed("class",!0).classed("special",!0).attr("x",-E/2).attr("y",-w/2).attr("width",E).attr("height",w):e.append("rect").attr("class","literal").classed("class",!0).attr("x",-E/2).attr("y",-w/2).attr("width",E).attr("height",w),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Literal"))}(t,e);break;case"datatype":!function(e,t){void 0!==e&&(void 0!==t?e.append("rect").attr("class",t.type).classed("class",!0).attr("x",-E/2).attr("y",-w/2).attr("width",E).attr("height",w):e.append("rect").attr("class","datatype").classed("class",!0).attr("x",-E/2).attr("y",-w/2).attr("width",E).attr("height",w),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Datatype"))}(t,e);break;case"rdfsClass":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("rdf",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","rdf").classed("rdf",!0).attr("r",x),Q(e),void 0!==t?(Y(e.select("text"),t.name.truncate(t.maxTextWidth)),e.append("title").text(t.fullName+" -- "+t.uri)):Y(e.select("text"),"Class"))}(t,e);break;case"rdfsResource":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("rdf",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").classed("rdf",!0).classed("special",!0).attr("r",C),Q(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Resource"))}(t,e);break;case"intersection":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","intersection").classed("class",!0).classed("special",!0).attr("r",O);var a=e.append("g").classed("embedded",!0);a.append("path").attr("class","nostroke").classed("symbol",!0).attr("d","m 24.777,0.771 c0,16.387-13.607,23.435-19.191,23.832S-15.467,14.526-15.467,0.424S-1.216-24.4,5.437-24.4 C12.09-24.4,24.777-15.616,24.777,0.771z"),a.append("circle").attr("class","nofill").classed("fineline",!0).attr("r",O-15),a.append("circle").attr("cx",10).attr("class","nofill").classed("fineline",!0).attr("r",O-15),a.append("path").attr("class","nofill").attr("d","m 9,5 c 0,-2 0,-4 0,-6 0,0 0,0 0,0 0,0 0,-1.8 -1,-2.3 -0.7,-0.6 -1.7,-0.8 -2.9,-0.8 -1.2,0 -2,0 -3,0.8 -0.7,0.5 -1,1.4 -1,2.3 0,2 0,4 0,6"),a.attr("transform","translate(-"+(O-15)/5+",-"+(O-15)/100+")")}}(t,e);break;case"union":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","union").classed("class",!0).classed("special",!0).attr("r",O);var a=e.append("g").classed("embedded",!0);a.append("circle").attr("class","symbol").attr("r",O-15),a.append("circle").attr("cx",10).attr("class","symbol").classed("fineline",!0).attr("r",O-15),a.append("circle").attr("class","nofill").classed("fineline",!0).attr("r",O-15),a.append("path").attr("class","link").attr("d","m 1,-3 c 0,2 0,4 0,6 0,0 0,0 0,0 0,2 2,3 4,3 2,0 4,-1 4,-3 0,-2 0,-4 0,-6"),a.attr("transform","translate(-"+(O-15)/5+",-"+(O-15)/100+")")}}(t,e);break;case"complement":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","complement").classed("class",!0).classed("special",!0).attr("r",O);var a=e.append("g").classed("embedded",!0);a.append("circle").attr("class","symbol").classed("fineline",!0).attr("r",O-15),a.append("path").attr("class","nofill").attr("d","m -7,-1.5 12,0 0,6"),a.attr("transform","translate(-"+(O-15)/100+",-"+(O-15)/100+")")}}(t,e);break;default:console.log("PROBLEM DURING DRAWING CLASSES - UNKNOWN TYPE: "+e.type)}}),te(),le()}(ue,me,pe),setTimeout(window.centerGraph,1e3)},rt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={vocabsReady:!0,codeLists:{},selectedVocabOption:null,ontologyListLoading:!1,codeListsLoading:!1,codeListInstances:null,codeList:null,sparqlPreview:!1,codeListInstanceGraphNodes:null,codeListInstancesGraphLoading:!1},a.componentWillMount=function(){window.cached.vocabs||a.setState({ontologyListLoading:!0})},a.onVocabSelected=function(e){a.setState({selectedVocabOption:e},function(){a.fetchCodeLists()})},a.fetchCodeLists=function(){var e=a.state.selectedVocabOption;if(!e)return!1;a.setState({codeListsLoading:!0});var t=ce(e?e.value:"__YOUR_SELECTED_VOCAB__").trim(),n=ee;"http://dbpedia.org"===e.value&&(t=encodeURIComponent(ie()),n="");var r="query=".concat(n).concat(t);return W.a.post(Z(e.value),r,me).then(function(t){var n={};t.data.results.bindings.filter(function(e){return e.ni.value>0}).forEach(function(e){var t=e.d,a=e.p,r=e.c,c=e.ni,o=H()(),l={d:t,p:a,c:r,ni:c,i:0};n[o]=l});var r={};Object.keys(n).forEach(function(e){r[n[e].c.value]&&n[e].p?r[n[e].c.value].properties++:r[n[e].c.value]={instances:parseFloat(n[e].ni.value)||0,properties:n[e].p?1:0}}),window.cached.records[e.value]=r,a.setState({codeLists:n,codeListsLoading:!1})})},a.showSparqlPreview=function(e){return function(){a.setState({sparqlPreview:e})}},a.showInstances=function(e){return function(){var t=a.state,n=t.selectedVocabOption,r=t.codeLists[e].c,c=oe(r.value,n.value),o=ee;"http://dbpedia.org"===n.value&&(o="",c=encodeURIComponent(de(r.value)));var l="query=".concat(o).concat(c);return a.setState({codeListInstancesLoading:!0}),W.a.post(Z(n.value),l,me).then(function(e){a.setState({codeListInstancesLoading:!1,codeListInstances:e.data.results.bindings,codeList:r})})}},a.closeSparqlModal=function(){a.setState({sparqlPreview:!1})},a.closeInstancesModal=function(){a.setState({codeListInstances:null,codeList:null})},a.closeGraphModal=function(){a.setState({codeListInstanceGraphNodes:null})},a.handleDownloadCodeList=function(){a.setState({downloading:!0});var e=a.state,t=e.selectedVocabOption,n=e.codeList,r=t.value,c=se(n.value,r),o=ee,l=JSON.parse(JSON.stringify(me));l.headers.accept="application/x-turtle,*/*;q=0.9","http://dbpedia.org"===t.value&&(r="",o="",c=encodeURIComponent(pe(n.value)));var s="query=".concat(o).concat(c);W.a.post(Z(t.value),s,l).then(function(e){var t=_(n.value);t=t.startsWith("http")&&t.includes("/")?t.split("/").slice(-1):t.replace(/[:\/]/g,"-"),Q("".concat(t,".ttl"),e.data,"turtle"),a.setState({downloading:!1})})},a.handleLoadGraph=function(){var e=a.state,t=e.selectedVocabOption,n=e.codeList,r=t.value,c=le(n.value,r),o=ee;"http://dbpedia.org"===t.value&&(r="",o="",c=encodeURIComponent(ue(n.value))),a.setState({codeListInstancesGraphLoading:!0});var l="query=".concat(o).concat(c);return W.a.post(Z(t.value),l,me).then(function(e){var t=at(e.data.results.bindings);a.setState({codeListInstancesGraphLoading:!1,codeListInstanceGraphNodes:t},function(){setTimeout(function(){nt(t)},1e3)})})},a.showCodeListSparqlPreview=function(){var e=a.state.selectedVocabOption;a.showSparqlPreview(e?"http://dbpedia.org"===e.value?[{name:"Query for listing code lists",query:ie().trim()}]:[{name:"Query for listing code lists",query:ce(e.value||"__YOUR_SELECTED_VOCAB__").trim()}]:"")()},a.remountVocabSelector=function(){a.setState({ontologyListLoading:!0,vocabsReady:!1}),fe(!0).then(function(){a.setState({ontologyListLoading:!1,vocabsReady:!0})})},a.render=function(){var e=a.state,t=e.selectedVocabOption,n=e.codeListsLoading,c=e.ontologyListLoading,o=e.codeLists,l=e.codeList,s=e.codeListInstances,i=e.vocabsReady,d=e.downloading,u=a.state,p=u.codeListInstancesLoading,m=u.codeListInstancesGraphLoading,f=u.codeListInstanceGraphNodes,h=u.sparqlPreview,v=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v.controls},r.a.createElement(be.a,{align:"left",variant:"h5"},"Browse code lists"),r.a.createElement("div",null,r.a.createElement(j.a,{color:"primary",onClick:a.showSparqlPreview([{name:"Query to list ontologies with number of classes and number of class instances",query:te().trim()}])},r.a.createElement(D.a,null),"\xa0View SPARQL"),r.a.createElement(j.a,{color:"primary",onClick:a.remountVocabSelector},r.a.createElement("div",{className:v.submitButtonContentWide},c?r.a.createElement(ge.a,{size:20}):r.a.createElement(Me.a,{style:{fontSize:20}}),"\xa0",c?"Loading list...":"Reload ontology list")))),r.a.createElement(be.a,{align:"left",variant:"subtitle2"},"This tool will help you identify code lists embedded in a knowledge graph or vocabulary. Please start by selecting an item below."),r.a.createElement(R.a,{className:v.paper},i&&r.a.createElement(Ke,{onVocabSelected:a.onVocabSelected,onReloadClick:a.fetchCodeLists,loading:n,onShowSparql:a.showCodeListSparqlPreview,onLoad:function(){return a.setState({ontologyListLoading:!1,vocabsReady:!0})}}),r.a.createElement(R.a,{className:v.root},r.a.createElement(et,{loading:n,codeLists:o,showInstances:a.showInstances,vocabIsSelected:!!t}))),r.a.createElement(he.a,{onClose:a.closeInstancesModal,open:!(!s&&!p),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ve.a,null,r.a.createElement("div",{className:v.dialogTitle},r.a.createElement("span",null,"Vocabulary: ",t&&Y(t.value)),l&&r.a.createElement("span",{style:{minWidth:412}},r.a.createElement(j.a,{color:"primary",disabled:d,onClick:a.handleDownloadCodeList},"Download RDF\xa0",d?r.a.createElement(ge.a,{size:20}):r.a.createElement(Ze.a,null)),r.a.createElement(j.a,{color:"primary",onClick:a.handleLoadGraph},"Visualize\xa0",r.a.createElement(Qe.a,null)),r.a.createElement(j.a,{color:"primary",onClick:a.showSparqlPreview([{name:"Query for listing members",query:oe(l.value,t.value).trim()},{name:"Query for visualization",query:le(l.value,t.value).trim()},{name:"Query for download",query:se(l.value,t.value).trim()}])},"View SPARQL\xa0",r.a.createElement(D.a,null)),r.a.createElement(j.a,{color:"primary",onClick:a.closeInstancesModal},r.a.createElement(B.a,null)))),r.a.createElement("div",{className:v.dialogTitle},r.a.createElement("span",null,"Code list: ",l&&Y(l.value)))),r.a.createElement(tt,{loading:p,codeListInstances:s,codeList:l})),r.a.createElement(he.a,{onClose:a.closeGraphModal,open:!(!f&&!m),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ve.a,null,r.a.createElement("div",{className:v.dialogTitle},r.a.createElement("div",null,"Code list view (showing max 100 nodes)"),l&&r.a.createElement("div",null,Y(l.value),r.a.createElement(j.a,{color:"primary",onClick:a.closeGraphModal},r.a.createElement(B.a,null))))),m&&r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ge.a,{size:40})),r.a.createElement("div",{className:"ontology-graph"},r.a.createElement("div",{id:"example"},r.a.createElement("div",{id:"control"},r.a.createElement("div",{className:"slider-container"},!m&&r.a.createElement("label",null,"Distance"),r.a.createElement("div",{id:"sliderOption"})),r.a.createElement("div",{id:"resetOption"})),r.a.createElement("div",{id:"graph"})))),r.a.createElement(he.a,{onClose:a.closeSparqlModal,open:!!h,fullWidth:!0,maxWidth:"md"},r.a.createElement(ve.a,null,r.a.createElement("div",{className:v.dialogTitle},r.a.createElement("span",null,"SPARQL query preview"),r.a.createElement(j.a,{color:"primary",onClick:a.closeSparqlModal},r.a.createElement(B.a,null))),r.a.createElement(be.a,{variant:"body2"},"See also ",X("https://github.com/nvbach91/iga-hybrid")),r.a.createElement(be.a,{variant:"body2"},"Endpoint ",t?X(Z(t.value)):r.a.createElement(r.a.Fragment,null,X(Z())," "))),h?h.map(function(e,t){return r.a.createElement("div",{className:"code-mirror-container",key:t},r.a.createElement(be.a,{variant:"subtitle2",style:{textIndent:34,marginTop:20,backgroundColor:"#ccc"}},e.name),r.a.createElement(Ae.UnControlled,{value:e.query,options:{mode:"sparql",lineNumbers:!0,readOnly:!0}}))}):r.a.createElement("div",null)))},a}return Object(d.a)(t,e),t}(r.a.Component),ct=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},codeBlock:{padding:"10px",width:"calc(100% - 24px)",margin:"10px auto",fontWeight:"bold",backgroundColor:"#ddd",height:"auto",border:"none",overflow:"auto !important"},controls:{display:"flex",justifyContent:"space-between"},dialogTitle:{display:"flex",justifyContent:"space-between"},submitButtonContentWide:{display:"flex",alignItems:"center",justifyContent:"center",width:160},submitButtonContent:{display:"flex",alignItems:"center",justifyContent:"center",width:120}}})(rt);function ot(e){var t=e.rows.map(function(e){var t=window.cached.prefixes[e];if(window.cached.renderedPrefixes[e])return window.cached.renderedPrefixes[e];var a={id:e,prefix:Y(t),iri:X(t)};return window.cached.renderedPrefixes[e]=a,a});return r.a.createElement(R.a,{style:{height:400,width:"100%"}},r.a.createElement(Ce,{rowCount:t.length,rowGetter:function(e){var a=e.index;return t[a]},columns:[{width:200,label:"Prefix",dataKey:"prefix"},{flexGrow:1,width:0,label:"IRI",dataKey:"iri"}]}))}var lt=a(306),st=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={searchValue:"",rows:Object.keys(window.cached.prefixes)},a.updateList=K(function(){a.setState({rows:Object.keys(window.cached.prefixes).filter(function(e){var t=a.state.searchValue.trim().toLowerCase();return e.toLowerCase().includes(t)||window.cached.prefixes[e].toLowerCase().includes(t)})})},500),a.handleInputChange=function(e){a.setState({searchValue:e.target.value},a.updateList)},a.render=function(){var e=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{align:"left",variant:"h5"},"Search for prefixes"),r.a.createElement(be.a,{align:"left",variant:"subtitle2"},"All prefixes used in this application come from ",X("https://prefix.cc/context")),r.a.createElement(R.a,{className:e.paper},r.a.createElement(We.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(je.a,null,r.a.createElement(Fe.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(Fe.a,{item:!0},r.a.createElement(Ge.a,{className:e.block,color:"inherit"})),r.a.createElement(Pe.a,{className:e.formControl},r.a.createElement(lt.a,{value:a.state.searchValue,onChange:a.handleInputChange}))))),r.a.createElement(R.a,{className:e.root},r.a.createElement(ot,{rows:a.state.rows}))))},a}return Object(d.a)(t,e),t}(r.a.Component),it=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},formControl:{flexGrow:1}}})(st),dt=a(303),ut=a(144),pt=a.n(ut),mt=a(301),ft=a(141),ht=a.n(ft),vt=a(143),gt=a.n(vt),bt=a(304),yt=a(307),wt=a(312);var Et=Object(h.a)(function(e){return{secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}})(function(e){var t=e.classes,a=e.onDrawerToggle,n=e.onTabSwitch,c=e.tabIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(je.a,null,r.a.createElement(Fe.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(b.a,{smUp:!0},r.a.createElement(Fe.a,{item:!0},r.a.createElement(mt.a,{color:"inherit","aria-label":"Open drawer",onClick:a,className:t.menuButton},r.a.createElement(ht.a,null)))),r.a.createElement(Fe.a,{item:!0,xs:!0}),r.a.createElement(Fe.a,{item:!0},r.a.createElement(wt.a,{title:"Alerts \u2022 No alters"},r.a.createElement(mt.a,{color:"inherit"},r.a.createElement(gt.a,null)))),r.a.createElement(Fe.a,{item:!0},r.a.createElement(mt.a,{color:"inherit",className:t.iconButtonAvatar},r.a.createElement(dt.a,{className:t.avatar,src:"favicon.png",alt:"avatar"})))))),r.a.createElement(We.a,{component:"div",className:t.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(je.a,null,r.a.createElement(Fe.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(be.a,{color:"inherit",variant:"h5",component:"h1"},"Code List Analyzer")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(wt.a,{title:"Help"},r.a.createElement(mt.a,{color:"inherit"},r.a.createElement(pt.a,null))))))),r.a.createElement(We.a,{component:"div",className:t.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(yt.a,{value:c,textColor:"inherit"},r.a.createElement(bt.a,{textColor:"inherit",label:"Code lists",onClick:n(0)}),r.a.createElement(bt.a,{textColor:"inherit",label:"Class Fragments",onClick:n(1)}),r.a.createElement(bt.a,{textColor:"inherit",label:"Prefixes",onClick:n(2)}))))}),xt=Object(f.a)({typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},shape:{borderRadius:8}});xt=Object(m.a)({},xt,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:xt.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:xt.palette.common.white}},MuiTab:{root:Object(p.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},xt.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:xt.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:xt.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}},props:{MuiTab:{disableRipple:!0}},mixins:Object(m.a)({},xt.mixins,{toolbar:{minHeight:48}})});var Ct={root:{display:"flex",minHeight:"100vh"},drawer:Object(p.a)({},xt.breakpoints.up("sm"),{width:192,flexShrink:0}),appPage:{flex:1,display:"flex",flexDirection:"column"},mainPage:{flex:1,padding:"48px 36px 0",background:"#eaeff1"}},Ot=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={mobileOpen:!1,tabIndex:0},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.handleTabSwitch=function(e){return function(){a.setState({tabIndex:e})}},a.renderPage=function(){switch(a.state.tabIndex){case 0:return r.a.createElement(ct,null);case 1:return r.a.createElement(Ye,null);case 2:return r.a.createElement(it,null);default:return r.a.createElement(Ye,null)}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(v.a,{theme:xt},r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement("nav",{className:e.drawer},r.a.createElement(b.a,{smUp:!0,implementation:"js"},r.a.createElement(P,{PaperProps:{style:{width:192}},variant:"temporary",open:this.state.mobileOpen,onClose:this.handleDrawerToggle})),r.a.createElement(b.a,{xsDown:!0,implementation:"css"},r.a.createElement(P,{PaperProps:{style:{width:192}}}))),r.a.createElement("div",{className:e.appPage},r.a.createElement(Et,{onDrawerToggle:this.handleDrawerToggle,onTabSwitch:this.handleTabSwitch,tabIndex:this.state.tabIndex}),r.a.createElement("main",{className:e.mainPage},this.renderPage()))))}}]),t}(r.a.Component),It=Object(h.a)(Ct)(Ot);a(230),a(231),a(232);a(233);var Lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentWillMount=function(){window.cached.renderedPrefixes={},window.cached.records={},window.cached.prefixes={},window.cached.reversePrefixes={},W.a.get("https://prefix.cc/context").then(function(e){window.cached.prefixes=e.data["@context"],window.cached.prefixes["lm-voag"]="http://voag.linkedmodel.org/voag#",window.cached.prefixes.ce="http://www.ebusiness-unibw.org/ontologies/consumerelectronics/v1#",window.cached.prefixes.rcc="http://web.resource.org/cc/",window.cached.prefixes["co-bbc"]="http://www.bbc.co.uk/ontologies/bbc/",window.cached.prefixes["gleif-base"]="https://www.gleif.org/ontology/Base/",window.cached.prefixes["gleif-l1"]="https://www.gleif.org/ontology/L1/",window.cached.prefixes["gleif-l2"]="https://www.gleif.org/ontology/L2/",window.cached.prefixes["gleif-re"]="https://www.gleif.org/ontology/ReportingException/",window.cached.prefixes["gleif-gc"]="https://www.gleif.org/ontology/Geocoding/",window.cached.prefixes.cubes="http://purl.org/qb4olap/cubes#",window.cached.prefixes.squdt="http://qudt.org/schema/qudt/",window.cached.prefixes.dkdk="http://www.data-knowledge.org/dk/",window.cached.prefixes.kanzaki="http://www.kanzaki.com/ns/music#",Object.keys(window.cached.prefixes).forEach(function(e){window.cached.reversePrefixes[window.cached.prefixes[e]]=e})})},a.render=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(It,null))},a}return Object(d.a)(t,e),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.cached={};var kt=localStorage.getItem("cached.vocabs"),St=localStorage.getItem("cached.vocabs.date");if(kt&&St&&new Date-new Date(St)<1728e5)try{window.cached.vocabs=JSON.parse(kt)}catch(Tt){console.log(Tt)}o.a.render(r.a.createElement(Lt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[159,1,2]]]);
//# sourceMappingURL=main.4638d49b.chunk.js.map