(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(342)},220:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),l=(a(220),a(27)),o=a(30),i=a(28),d=a(31),u=a(99),p=a(36),m=a(35),f=a(198),h=a(5),v=a(408),g=a(413),b=a(411),y=a(87),w=a(3),x=a(393),E=a(414),O=a(389),C=a(390),k=a(391),I=a(392),L=a(182),T=a.n(L),S=a(178),N=a.n(S),j=[{id:"Develop",children:[{id:"LOV Analyzer",icon:r.a.createElement(N.a,null),active:!0}]}];var P=Object(h.a)(function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}})(function(e){var t=e.classes,a=Object(y.a)(e,["classes"]);return r.a.createElement(E.a,Object.assign({variant:"permanent"},a),r.a.createElement(O.a,{disablePadding:!0},r.a.createElement(C.a,{className:Object(w.a)(t.firebase,t.item,t.itemCategory)},"IGA HYBRID"),r.a.createElement(C.a,{className:Object(w.a)(t.item,t.itemCategory)},r.a.createElement(k.a,{className:t.itemIcon},r.a.createElement(T.a,null)),r.a.createElement(I.a,{classes:{primary:t.itemPrimary}},"Project Overview")),j.map(function(e){var a=e.id,n=e.children;return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(C.a,{className:t.categoryHeader},r.a.createElement(I.a,{classes:{primary:t.categoryHeaderPrimary}},a)),n.map(function(e){var a=e.id,n=e.icon,c=e.active;return r.a.createElement(C.a,{key:a,button:!0,className:Object(w.a)(t.item,c&&t.itemActiveItem)},r.a.createElement(k.a,{className:t.itemIcon},n),r.a.createElement(I.a,{classes:{primary:t.itemPrimary}},a))}),r.a.createElement(x.a,{className:t.divider}))})))}),R=a(201),F=a(396),A=a(49),M=a.n(A),B=a(39),D=a.n(B),W=a(69),q=a.n(W),G=a(109),V=a.n(G),U="https://lov.linkeddata.es/dataset/lov/sparql",H={vann:"http://purl.org/vocab/vann/",voaf:"http://purl.org/vocommons/voaf#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#"},K=Object.keys(H).map(function(e){return"PREFIX ".concat(e,": <").concat(H[e],">")}).join("\n")+"\n",z=function(e){return"\nSELECT (COUNT(DISTINCT *) AS ?n)\nWHERE {\n  BIND(<".concat(e.p.value,"> AS ?p) .\n  ?s a <").concat(e.s.value,"> .\n  ").concat(e.o.value.startsWith("http://www.w3.org/2001/XMLSchema#")?"":"?o a <".concat(e.o.value,"> ."),"\n  ?s ?p ?o .\n}\n")},_=function(e){return"\nSELECT DISTINCT ?s ?p ?o\nWHERE {\n  BIND(<".concat(e.p.value,"> AS ?p) .\n  ?s a <").concat(e.s.value,"> .\n  ").concat(e.o.value.startsWith("http://www.w3.org/2001/XMLSchema#")?"":"?o a <".concat(e.o.value,"> ."),"\n  ?s ?p ?o .\n}\n")},Y=function(e){return"\nSELECT DISTINCT\n?s ?sp ?sd ?p ?o ?op ?od\nFROM <http://purl.org/dc/terms/>\nFROM <http://purl.org/vocab/vann/>\nFROM <http://www.w3.org/2004/02/skos/core>\nFROM <http://purl.org/dc/elements/1.1/>\nFROM <http://creativecommons.org/ns>\nFROM <http://xmlns.com/foaf/0.1/>\nFROM <http://schema.org/>\nFROM <http://www.w3.org/ns/prov#>\n\nFROM <".concat(e,">\nWHERE {\n  ?p rdfs:isDefinedBy <").concat(e,"> .\n  VALUES ?pt { owl:ObjectProperty owl:DatatypeProperty rdf:Property } .\n  ?p a ?pt .\n  OPTIONAL {\n    ?p rdfs:domain ?s .\n    OPTIONAL {\n      ?p rdfs:subPropertyOf ?op .\n        OPTIONAL { ?op rdfs:range ?od . }\n    }\n  }\n  OPTIONAL {\n    ?p rdfs:range ?o .\n    OPTIONAL {\n      ?p rdfs:subPropertyOf ?sp .\n      OPTIONAL { ?sp rdfs:domain ?sd . }\n    }\n  }\n}\nORDER BY ?s\n")},Q=function(e){return"\nSELECT DISTINCT ?d ?p ?c (COUNT(DISTINCT ?i) AS ?n)\nFROM <".concat(e,"> \nWHERE {\n  ?c a owl:Class .\n  ?i a ?c .\n  OPTIONAL { \n    ?p rdfs:range ?c . \n    OPTIONAL {\n    \t?p rdfs:domain ?d .\n    }\n  }\n}\nGROUP BY ?d ?p ?c\nORDER BY ?c\n")},X=function(e,t){return"\nSELECT DISTINCT ?i ?skosConcept\nFROM <".concat(t,"> \nWHERE {\n  ?i a <").concat(e,"> .\n  OPTIONAL {\n    BIND(skos:Concept AS ?skosConcept) .\n    ?i a ?skosConcept .\n  }\n}\nORDER BY ?i\n")},J=function(e,t){return"\nSELECT DISTINCT ?c ?cn ?i1 ?i1n ?p ?i2 ?i2n\n".concat("\nFROM <http://purl.org/dc/terms/>\nFROM <http://purl.org/vocab/vann/>\nFROM <http://www.w3.org/2004/02/skos/core>\nFROM <http://purl.org/dc/elements/1.1/>\nFROM <http://creativecommons.org/ns>\nFROM <http://xmlns.com/foaf/0.1/>\nFROM <http://schema.org/>\nFROM <http://www.w3.org/ns/prov#>\nFROM <http://www.w3.org/2002/07/owl#>\n","\nFROM <").concat(t,"> \nWHERE {\n  BIND(<").concat(e,"> AS ?c) .\n  ?i1 a ?c .\n  OPTIONAL { ?c rdfs:label ?cn . FILTER(LANGMATCHES(LANG(?cn), 'en')) }\n  OPTIONAL { ?i1 rdfs:label ?i1n . FILTER(LANGMATCHES(LANG(?i1n), 'en'))}\n  OPTIONAL {\n  \t?i2 a ?c .\n    ?i1 ?p ?i2 .\n    OPTIONAL { ?i2 rdfs:label ?i2n . FILTER(LANGMATCHES(LANG(?i2n), 'en')) }\n  }\n}\nORDER BY ?i1\n")},Z={headers:{accept:"application/sparql-results+json,*/*;q=0.9","accept-language":"en-US,en;q=0.9","content-type":"application/x-www-form-urlencoded; charset=UTF-8"}},$=function(){if(window.cached.vocabs)return q.a.resolve(window.cached.vocabs);var e="query=".concat(K).concat("\nSELECT DISTINCT ?vocabURI ?vocabLabel (COUNT (?class) AS ?nClass) (COUNT (?ind) AS ?nInd) {\n  ?vocabURI a voaf:Vocabulary.\n  ?vocabURI vann:preferredNamespacePrefix ?vocabPrefix.\n  OPTIONAL { \n    ?vocabURI rdfs:label ?vocabLabel .\n    FILTER(LANGMATCHES(LANG(?vocabLabel), 'en') || LANGMATCHES(LANG(?vocabLabel), ''))\n  }\n  VALUES ?c { owl:Class rdf:Class } .\n  ?class a ?c .\n  ?class rdfs:isDefinedBy ?vocabURI .\n  OPTIONAL {\n    ?ind a ?class .\n  }\n} GROUP BY ?vocabURI ?vocabLabel ORDER BY DESC(?nInd)\n");return D.a.post(U,e,Z).then(function(e){return window.cached.vocabs=e,e})},ee=a(394),te=function(e){for(var t=Object.keys(window.cached.reversePrefixes),a=0;a<t.length;a++){var n=t[a];if(e.startsWith(n))return e.length===n.length?window.cached.reversePrefixes[n]:"".concat(window.cached.reversePrefixes[n],":").concat(e.slice(n.length))}return e},ae=function(e){return/^https?:\/\//.test(e)?r.a.createElement(ee.a,{href:e,target:"_blank",rel:"noopener noreferrer"},te(e)):e},ne=function(e){return r.a.createElement(ee.a,{href:e,target:"_blank",rel:"noopener noreferrer"},e)},re=a(403),ce=a(404),se=a(395),le=a(70),oe=a(343),ie=a(412),de=a(116),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).getRowClassName=function(e){var t=e.index,n=a.props,r=n.classes,c=n.onRowClick;return Object(w.a)(r.tableRow,r.flexContainer,Object(p.a)({},r.tableRowHover,-1!==t&&null!=c))},a.cellRenderer=function(e){var t=e.cellData,n=e.columnIndex,c=a.props,s=c.columns,l=c.classes,o=c.rowHeight,i=c.onRowClick;return r.a.createElement(ie.a,{component:"div",className:Object(w.a)(l.tableCell,l.flexContainer,Object(p.a)({},l.noClick,null==i)),variant:"body",style:{height:o},align:null!=n&&s[n].numeric?"right":"left"},t)},a.headerRenderer=function(e){var t=e.label,n=e.columnIndex,c=a.props,s=c.headerHeight,l=c.columns,o=c.classes;return r.a.createElement(ie.a,{component:"div",className:Object(w.a)(o.tableCell,o.flexContainer,o.noClick),variant:"head",style:{height:s},align:l[n].numeric?"right":"left"},r.a.createElement("span",null,t))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.columns,c=Object(y.a)(t,["classes","columns"]);return r.a.createElement(de.a,null,function(t){var s=t.height,l=t.width;return r.a.createElement(de.c,Object.assign({size:"small",height:s,width:l},c,{rowClassName:e.getRowClassName}),n.map(function(t,n){var c=t.dataKey,s=Object(y.a)(t,["dataKey"]);return r.a.createElement(de.b,Object.assign({key:c,headerRenderer:function(t){return e.headerRenderer(Object(m.a)({},t,{columnIndex:n}))},className:a.flexContainer,cellRenderer:e.cellRenderer,dataKey:c},s))}))})}}]),t}(r.a.PureComponent);ue.defaultProps={headerHeight:48,rowHeight:48};var pe=Object(h.a)(function(e){return{flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"}}})(ue),me={backgroundColor:"white",position:"sticky",top:0,fontWeight:"bold"},fe=Object(oe.a)(function(e){return{head:me,headLast:Object(m.a)({},me,{width:150}),fragmentButton:{padding:"4px 16px",width:32,justifyContent:"flex-end"}}})(function(e){var t=e.fragments,a=e.showInstances,n=e.showOnlyFullFragments,c=e.vocabIsSelected,s=e.classes,l=t?Object.keys(t).filter(function(e){if(n){var a=t[e],r=a.s,c=a.p,s=a.o;return r&&c&&s}return!0}).map(function(e,n){var c=t[e],l=c.s,o=c.p,i=c.o,d=c.i;return{id:e,index:n+1,s:ae(l?l.value:""),p:ae(o?o.value:""),o:ae(i?i.value:""),i:null===d?r.a.createElement(se.a,{size:26}):r.a.createElement(F.a,{className:s.fragmentButton,onClick:a(e),color:"primary"},d,d?r.a.createElement("span",null,"\xa0"):"",d?r.a.createElement(M.a,null):"")}}):[];return r.a.createElement(R.a,{style:{height:640,width:"100%"}},r.a.createElement(pe,{rowCount:l.length,rowGetter:function(e){var t=e.index;return l[t]},columns:[{width:100,label:"(".concat(l.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:"Subject",dataKey:"s"},{flexGrow:1,width:0,label:"Predicate",dataKey:"p"},{flexGrow:1,width:0,label:"Object",dataKey:"o"},{width:150,label:"Instances",dataKey:"i"}]}),c&&!Object.keys(t).length&&r.a.createElement(le.a,{variant:"subtitle2"},"No class fragment found in this ontology"))}),he=Object(h.a)(function(e){return{head1:{backgroundColor:"white",position:"sticky",top:0},head2:{backgroundColor:"#004b6e",color:"white",position:"sticky",top:40,fontWeight:"bold"}}})(function(e){var t=e.fragmentInstancesLoading,a=e.fragmentInstances,n=e.classFragment,c=(e.classes,a?a.map(function(e,t){var a=e.s,n=e.p,r=e.o;return{id:t,index:t+1,s:ae(a.value),p:ae(n.value),o:ae(r.value)}}):[]);return r.a.createElement(R.a,{style:{height:640,width:"100%"}},t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(se.a,{size:40})):r.a.createElement(pe,{rowCount:c.length,rowGetter:function(e){var t=e.index;return c[t]},columns:[{width:100,label:"(".concat(c.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Subject class\xa0(",ae(n?n.s.value:""),")"),dataKey:"s"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Predicate\xa0(",ae(n?n.p.value:""),")"),dataKey:"p"},{flexGrow:1,width:0,label:r.a.createElement("span",null,"Object class\xa0(",ae(n?n.o.value:""),")"),dataKey:"o"}]}))}),ve=a(401),ge=a(415),be=a(188),ye=a.n(be),we=a(112),xe=a.n(we),Ee=a(400),Oe=a(200),Ce=a(398),ke=a(399),Ie=a(113),Le=a.n(Ie),Te=a(192),Se=a.n(Te),Ne=a(397),je={option:function(e,t){t.data,t.isDisabled,t.isFocused,t.isSelected;return Object(m.a)({},e,{textAlign:"left",padding:"10px"})}},Pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={selectOptions:[],selectedOption:null,loading:!0},a.componentWillMount=function(){$().then(function(e){var t=e.data.results.bindings.map(function(e){return{iri:e.vocabURI.value,label:e.vocabLabel?e.vocabLabel.value:"",nClass:e.nClass.value,nInd:e.nInd.value}});a.setState({loading:!1,selectOptions:t.map(function(e){var t=e.iri,a=e.label,n=e.nClass,r=e.nInd;return{value:t,label:"".concat(t).concat(a?" - ".concat(a):"",", classes: ").concat(n,", instances: ").concat(r)}})})})},a.handleSelectChange=function(e){a.setState({selectedOption:e}),a.props.onVocabSelected(e)},a.render=function(){var e=a.props.classes;return r.a.createElement(Ne.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(ke.a,{item:!0},r.a.createElement(Le.a,{className:e.block,color:"inherit"})),r.a.createElement(Ee.a,{className:a.props.classes.formControl},r.a.createElement(Oe.a,{styles:je,TextFieldProps:{label:"Ontology IRI",placeholder:"Type to search for ontology"},options:a.state.selectOptions,onChange:a.handleSelectChange})),r.a.createElement(ke.a,{item:!0},r.a.createElement("div",{className:e.submitButton},a.state.loading?r.a.createElement(se.a,{size:20}):r.a.createElement(F.a,{variant:"contained",color:"primary",onClick:a.props.onReloadClick},r.a.createElement("div",{className:e.submitButtonContent},r.a.createElement(Se.a,{style:{fontSize:24}}),"\xa0Reload")))))))},a}return Object(d.a)(t,e),t}(r.a.Component),Re=Object(h.a)(function(e){return{formControl:{flexGrow:1},submitButton:{marginRight:e.spacing(1),minWidth:140},submitButtonContent:{display:"flex",alignItems:"center"}}})(Pe),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={fragments:{},selectedVocabOption:null,loading:!1,fragmentInstances:null,classFragment:null,sparqlPreview:!1,showOnlyFullFragments:"true"===localStorage.getItem("preferences.showOnlyFullFragments")},a.onVocabSelected=function(e){a.setState({selectedVocabOption:e},function(){a.fetchClassFragments()})},a.handleInputChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.checked)),"showOnlyFullFragments"===e&&localStorage.setItem("preferences.showOnlyFullFragments",t.target.checked)}},a.fetchClassFragments=function(){a.setState({loading:!0});var e="query=".concat(K).concat(Y(a.state.selectedVocabOption.value));return D.a.post(U,e,Z).then(function(e){var t={};e.data.results.bindings.forEach(function(e){var a=e.s,n=e.sd,r=e.p,c=e.o,s=e.od,l=V()(),o={s:a||(n||n||null),p:r,o:c||(c||s||null)};o.i=o.s&&o.o&&o.p?null:0,t[l]=o}),a.setState({fragments:t,loading:!1},function(){a.fetchFragmentInstances()})})},a.fetchFragmentInstances=function(){var e=a.state.fragments,t=Object.keys(e).filter(function(t){var n=e[t],r=n.s,c=n.p,s=n.o;return!a.state.showOnlyFullFragments||r&&c&&s}),n=ye()(t,10);q.a.each(n,function(t){var n={};return q.a.delay(500).then(function(){return q.a.map(t,function(t){var a=e[t],r=a.s,c=a.p,s=a.o;if(r&&c&&s){var l="query=".concat(K).concat(z(e[t]));return D.a.post(U,l,Z).then(function(e){n[t]=e.data.results.bindings[0].n.value})}return q.a.delay(0)})}).then(function(){var t=Object(m.a)({},e);Object.keys(n).forEach(function(e){t[e].i=n[e]}),a.setState({fragments:t})})})},a.showSparqlPreview=function(e){return function(){a.setState({sparqlPreview:e})}},a.showInstances=function(e){return function(){var t=a.state.fragments[e],n=t.s,r=t.p,c=t.o,s="query=".concat(K).concat(_(a.state.fragments[e]));return a.setState({fragmentInstancesLoading:!0}),D.a.post(U,s,Z).then(function(e){a.setState({fragmentInstancesLoading:!1,fragmentInstances:e.data.results.bindings,classFragment:{s:n,p:r,o:c}})})}},a.closeSparqlModal=function(){a.setState({sparqlPreview:!1})},a.closeInstancesModal=function(){a.setState({fragmentInstances:null,classFragment:null})},a.render=function(){var e=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.controls},r.a.createElement(le.a,{align:"left",variant:"h5"},"Find class fragments"),r.a.createElement("div",null,r.a.createElement(ve.a,{control:r.a.createElement(ge.a,{checked:a.state.showOnlyFullFragments,onChange:a.handleInputChange("showOnlyFullFragments"),value:"showOnlyFullFragments",color:"primary"}),label:"Show only full fragments"}),r.a.createElement(F.a,{color:"primary",onClick:a.showSparqlPreview(Y(a.state.selectedVocabOption?a.state.selectedVocabOption.value:"__YOUR_SELECTED_VOCAB__").trim())},"View SPARQL\xa0",r.a.createElement(M.a,null)))),r.a.createElement(le.a,{align:"left",variant:"subtitle2"},"This tool will help you identify class fragments in a selected ontology and fetch their instances. Begin by selecting an ontology in the list below."),r.a.createElement(R.a,{className:e.paper},r.a.createElement(Re,{onVocabSelected:a.onVocabSelected,onReloadClick:a.fetchClassFragments}),r.a.createElement(R.a,{className:e.root},r.a.createElement(fe,{fragments:a.state.fragments,showInstances:a.showInstances,showOnlyFullFragments:a.state.showOnlyFullFragments,vocabIsSelected:!!a.state.selectedVocabOption}))),r.a.createElement(re.a,{onClose:a.closeInstancesModal,open:!(!a.state.fragmentInstances&&!a.state.fragmentInstancesLoading),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ce.a,null,r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"Class fragment instances in ",a.state.selectedVocabOption&&ae(a.state.selectedVocabOption.value)),a.state.classFragment&&r.a.createElement("span",null,r.a.createElement(F.a,{color:"primary",onClick:a.showSparqlPreview(_(a.state.classFragment).trim())},"View SPARQL\xa0",r.a.createElement(M.a,null))))),r.a.createElement(he,{fragmentInstancesLoading:a.state.fragmentInstancesLoading,fragmentInstances:a.state.fragmentInstances,classFragment:a.state.classFragment})),r.a.createElement(re.a,{onClose:a.closeSparqlModal,open:!!a.state.sparqlPreview,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce.a,null,"SPARQL query",r.a.createElement(le.a,{variant:"body2"},"See also ",ne("https://github.com/nvbach91/iga-hybrid"))),r.a.createElement(xe.a,{readOnly:!0,className:e.codeBlock,defaultValue:a.state.sparqlPreview})))},a}return Object(d.a)(t,e),t}(r.a.Component),Ae=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},codeBlock:{padding:"10px",width:"calc(100% - 24px)",margin:"10px auto",fontWeight:"bold",backgroundColor:"#ccc",height:"auto",border:"none"},controls:{display:"flex",justifyContent:"space-between"},dialogTitle:{display:"flex",justifyContent:"space-between"}}})(Fe),Me=a(193),Be=a.n(Me),De={backgroundColor:"white",position:"sticky",top:0,fontWeight:"bold"},We=Object(oe.a)(function(e){return{head:De,headLast:Object(m.a)({},De,{width:150}),fragmentButton:{padding:"4px 16px",minWidth:96,justifyContent:"flex-end"}}})(function(e){var t=e.codeLists,a=e.showInstances,n=e.vocabIsSelected,c=e.classes,s=t?Object.keys(t).map(function(e,n){var s=t[e],l=s.d,o=s.p,i=s.c,d=s.n;return{id:e,index:n+1,d:ae(l?l.value:""),p:ae(o?o.value:""),c:ae(i?i.value:""),n:d?d.value:"",i:d?r.a.createElement(F.a,{className:c.fragmentButton,onClick:a(e),color:"primary"},d.value,"\xa0",r.a.createElement(M.a,null)):0}}):[];return r.a.createElement(R.a,{style:{height:640,width:"100%"}},r.a.createElement(pe,{rowCount:s.length,rowGetter:function(e){var t=e.index;return s[t]},columns:[{width:100,label:"(".concat(s.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:"Domain",dataKey:"d"},{flexGrow:1,width:0,label:"Property",dataKey:"p"},{flexGrow:1,width:0,label:"Code list (Range)",dataKey:"c"},{flexGrow:1,width:0,label:"Members",dataKey:"n"},{width:150,label:"View",dataKey:"i"}]}),n&&!Object.keys(t).length&&r.a.createElement(le.a,{variant:"subtitle2"},"No code lists found in this ontology"))}),qe=Object(h.a)(function(e){return{head1:{backgroundColor:"white",position:"sticky",top:0},head2:{backgroundColor:"#004b6e",color:"white",position:"sticky",top:40,fontWeight:"bold"}}})(function(e){var t=e.loading,a=e.codeListInstances,n=(e.codeList,e.classes,a?a.map(function(e,t){var a=e.i,n=e.skosConcept;return{id:t,index:t+1,i:ae(a.value),skosConcept:ae(n?n.value:"Not a skos:Concept")}}):[]);return r.a.createElement(R.a,{style:{height:640,width:"100%"}},t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(se.a,{size:40})):r.a.createElement(pe,{rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},columns:[{width:100,label:"(".concat(n.length,") #"),dataKey:"index",numeric:!0,align:"right"},{flexGrow:1,width:0,label:"Instance",dataKey:"i"},{flexGrow:1,width:0,label:"skos:Concept",dataKey:"skosConcept"}]}))}),Ge=function(e){var t={},a=[];e.forEach(function(e){t[e.c.value]={type:"class",name:te(e.c.value),label:e.cn?e.cn.value:""},t[e.i1.value]={type:"rdfsClass",name:te(e.i1.value),label:e.i1n?e.i1n.value:""},a.push({s:e.i1.value,p:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",o:e.c.value,label:"rdf:type"}),e.i2&&(t[e.i2.value]={type:"rdfsClass",name:te(e.i2.value),label:e.i2n?e.i2n.value:""},a.push({s:e.i1.value,p:e.p.value,o:e.i2.value,label:te(e.p.value)}))});var n={};return t=Object.keys(t).slice(0,100).map(function(e,a){n[e]=a;var r=t[e],c=r.name,s=r.type;return{fullName:c,name:r.label,type:s,uri:e}}),a=a.filter(function(e){var t=e.s,a=e.o;return n[t]>=0&&n[a]>=0}).map(function(e){var t=e.s,a=e.o;return{source:n[t],target:n[a],valueTo:e.label,uriTo:e.p}}),{info:[{title:"Code list structure graph",url:"http://codelist.cc",version:"1.0.0",authors:"Nguyen, V.B.",description:"A code list structure graph"}],nodes:t,links:a}},Ve=function(e){var t,a,n,r,c,s,l,o,i,d,u,p,m,f=window.d3,h=window.innerWidth,v=window.innerHeight,g=240,b=g,y=g,w=20,x=60,E=50,O=30,C=40,k=28,I=80,L=12,T=f.svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("cardinal"),S=f.svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("cardinal").tension(-1),N=f.behavior.zoom().scaleExtent([.1,4]).on("zoom",function(){s.attr("transform","translate("+f.event.translate+")scale("+f.event.scale+")")});var j=function(){i.attr("d",function(e){if(e.source===e.target)return function(e){var t=e.source,a=360/e.selfLinkCount,n=Math.min(60,.8*a),r=V(a*e.selfLinkIndex),c=V(a*e.selfLinkIndex+n),s=Math.cos(r)*t.radius,l=Math.sin(r)*t.radius,o=Math.cos(c)*t.radius,i=Math.sin(c)*t.radius,d={x:t.x+s,y:t.y+l},u={x:t.x+o,y:t.y+i},p=(s+o)/2*2.5,m=(l+i)/2*2.5,f={x:t.x+p,y:t.y+m};return e.curvePoint=f,S([d,f,u])}(e);var t=function(e,t,a){var n=function(e){var t=Math.floor((e.multiLinkIndex-e.multiLinkCount%2)/2)+1,a=e.multiLinkCount%2*15,n=0;switch(t){case 1:n=20+a;break;case 2:n=45+a}return n*(b/g)}(a),r=t.x-e.x,c=t.y-e.y,s=e.x+r/2,l=e.y+c/2,o=G(e,t,n);a.source.index<a.target.index&&(o.x=-o.x,o.y=-o.y);a.multiLinkIndex%2!==0&&(o.x=-o.x,o.y=-o.y);return{x:s+o.x,y:l+o.y}}(A(e.target,e.source,1),A(e.source,e.target,1),e);return e.curvePoint=t,T([A(e.curvePoint,e.source,1),t,A(e.curvePoint,e.target,1)])}),u.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),d.selectAll("g").attr("transform",function(e){var t;t=f.select(this).classed("to")?A(e.curvePoint,e.source,20):A(e.curvePoint,e.target,20);var a=G(e.curvePoint,e.source,10);return e.source.index<e.target.index&&(a.x=-a.x,a.y=-a.y),"translate("+(t.x+a.x)+","+(t.y+a.y)+")"}),l.selectAll("g").attr("transform",function(e){var t=f.select(this),a=e.curvePoint.x,n=e.curvePoint.y;return e.inverse&&(t.classed("to")?n+=k/2+1:t.classed("from")&&(n-=k/2+1)),"translate("+a+","+n+")"})};String.prototype.width=function(e){e||(e="text");var t=f.select("body").append("div").attr("class",e).attr("id","width-test").text(this),a=document.getElementById("width-test").offsetWidth;return t.remove(),a},String.prototype.truncate=function(e,t){if(e-=4,isNaN(e)||e<=0)return this;for(var a,n,r=this,c=this.length;!((a=r.width(t))<=e);)n=a/e,c=Math.floor(c/n),r=r.substring(0,c);return this.length>c?this.substring(0,c-3)+"...":this};var P=function(e){return"special"===e.type},R=function(){N.translate([0,0]).scale(1),s.attr("transform","translate("+N.translate()+")scale("+N.scale()+")"),void 0!==t&&t.property("value",g),void 0!==r&&r.property("value",g),W(),f.select("#otherDetails").classed("hidden",!0)},F=function(){for(var e=0;e<p.nodes.length;e++){var t,a,n=p.nodes[e];switch(n.type){case"deprecated":case"external":case"equivalent":case"rdfsClass":case"class":a=E,t=2*E;break;case"union":case"intersection":case"complement":a=C;break;case"rdfsResource":case"thing":a=O,t=2*O;break;case"literal":case"datatype":n.height=w,n.width=x,t=x}n.maxTextWidth=t,n.radius=a}p.links.forEach(function(e){var t=0;if(isNaN(e.multiLinkCount)){var a=[];for(p.links.forEach(function(t){(e.source===t.source&&e.target===t.target||e.target===t.source&&e.source===t.target)&&a.push(t)}),t=0;t<a.length;t++)a[t].multiLinkCount=a.length,a[t].multiLinkIndex=t}if(isNaN(e.selfLinkCount)){var n=[];for(p.links.forEach(function(t){e.source===t.source&&e.target===t.target&&n.push(t)}),t=0;t<n.length;t++)n[t].selfLinkCount=n.length,n[t].selfLinkIndex=t}}),D()};function A(e,t,a){var n=t.x-e.x,r=t.y-e.y,c=t.radius;if("literal"===t.type||"datatype"===t.type)if(Math.abs(r/n)<=t.height/t.width){var s=r/(n/(t.width/2));c=Math.sqrt(Math.pow(t.width/2,2)+s*s)}else{var l=n/(r/(t.height/2));c=Math.sqrt(Math.pow(t.height/2,2)+l*l)}var o=Math.sqrt(n*n+r*r),i=(o-(c+a))/o;return{x:n*i+e.x,y:r*i+e.y}}var M=function(e,t){var a=t;return a+=e.target.radius,a+=e.source.radius},B=function(e){return"literal"===e.source.type||"literal"===e.target.type||"datatype"===e.source.type||"datatype"===e.target.type?M(e,y):M(e,b)},D=function(){void 0!==t&&t.property("value",b),void 0!==a&&a.html(b),void 0!==r&&r.property("value",y),void 0!==n&&n.html(y)},W=function(){b=+t.property("value"),y=+r.property("value"),c.charge(q()),c.start(),D()};window.centerGraph=function(){var e=setInterval(W,200);setTimeout(function(){clearInterval(e)},2e3)};var q=function(){var e=b/g*-1e3,t=y/g*-1e3;return Math.min(e,t)};function G(e,t,a){var n=t.x-e.x,r=-(t.y-e.y),c=n,s=a/Math.sqrt(r*r+c*c);return{x:r*s,y:c*s}}function V(e){(e%=360)<0&&(e+=360);var t=2*Math.PI*e/360;return t<0&&(t+=2*Math.PI),t}function U(e,t){return(e.type?e.type:"normal")+e.id+(t?"inverse":"")}function H(e,t,a){e.append("marker").attr("id",U(t,a)).attr("viewBox","0 -8 14 16").attr("refX",a?0:12).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("markerUnits","userSpaceOnUse").attr("orient","auto").attr("class",(t.type?t.type:"normal")+"Marker").append("path").attr("d",function(){return a?"M12,-8L0,0L12,8Z":"M0,-8L12,0L0,8Z"})}function K(e,t,a){e.append("rect").attr("class",function(){var e=t.propertyTo;return"from"===a&&(e=t.propertyFrom),e||"object"}).classed("property",!0).attr("x",-I/2).attr("y",-k/2).attr("width",I).attr("height",k).on("mouseenter",function(e){!function(e,t){var a="from"===t;f.selectAll("marker#"+U(e,a)).select("path").classed("hovered",!0),f.selectAll("."+U(e,a)).selectAll("path, text").classed("hovered",!0),s.selectAll(".label").sort(function(t,a){return t.id===e.id&&a.id!==e.id?1:t.id!==e.id&&a.id===e.id?-1:t.id-a.id})}(e,a),oe(e,a,!0)}).on("mouseleave",function(e){!function(e,t){var a="from"===t;f.selectAll("marker#"+U(e,a)).select("path").classed("hovered",!1),f.selectAll("."+U(e,a)).selectAll("path, text").classed("hovered",!1)}(e,a),oe(e,a,!1)})}function z(e,t,a){var n=e.append("g").attr("id","label"+t.id+a).classed(a,!0);if(K(n,t,a),"disjoint"!==t.propertyTo){var r=n.append("text").classed("text",!0).attr("text-anchor","middle");!function(e,t,a){e.append("tspan").attr("class",function(){var e="";switch(e=void 0!==t.typeTo||void 0!==t.typeFrom?e.concat("mainText"):e.concat("text"),t.propertyTo){case"external":return e=e.concat(" white")}switch(t.propertyFrom){case"external":return e=e.concat(" white")}return e}).text(function(){return("to"===a?t.valueTo:"from"===a?t.valueFrom:t.valueTo?t.valueTo:t.valueFrom).toString().truncate(I)})}(r,t,a),function(e,t,a){var n;if("to"===a){if(!t.typeTo)return;n=t.typeTo}else if("from"===a){if(!t.typeFrom)return;n=t.typeFrom}else{var r=t.typeTo?t.typeTo:t.typeFrom;if(!r)return;n=r}var c=")("+n.toString().truncate(I,"subtext");e.append("tspan").attr("x",0).attr("y",9).attr("class","subtext").text("("+c.substr(2)+")")}(r,t,a),function(e,t,a){var n;if("to"===a){if(!t.equivPropTo)return;n=t.equivPropTo}else if("from"===a){if(!t.subPropFrom)return;n=t.subPropFrom}else{var r=t.equivPropTo?t.equivPropTo:t.subPropFrom;if(!r)return;n=r}var c="]["+n.toString().truncate(I,"subtext");e.append("tspan").attr("x",0).attr("y",9).attr("class","subtext").text("["+c.substr(2)+"]")}(r,t,a)}else!function(e){e.append("circle").classed("symbol",!0).classed("fineline",!0).attr("cx",-12.5).attr("r",10),e.append("circle").classed("symbol",!0).classed("fineline",!0).attr("cx",12.5).attr("r",10),e.append("text").classed("text",!0).attr("text-anchor","middle").attr("transform","translate(0,20)").append("tspan").classed("subtext",!0).text("(disjoint)")}(n)}function _(e,t){e.append("g").attr("class",function(e){return U(e,"to"===t)}).classed(t,!0).append("text").classed("cardinality",!0).attr("text-anchor","middle").text(function(e){return"to"===t?e.cardTo:e.cardFrom})}function Y(e,t,a){void 0!==e&&void 0!==t&&e.append("tspan").attr("class",a).classed("text",!0).attr("x",0).attr("y",function(){return(e.property("childNodes").length-1)*L}).text(t)}function Q(e,t,a){void 0!==e&&void 0!==t&&e.append("tspan").attr("class",a).classed("text",!0).classed("subtext",!0).attr("x",0).attr("y",function(){return(e.property("childNodes").length-1)*L}).text(t)}function X(e){e.append("text").classed("text",!0).attr("text-anchor","middle")}var J=function(e){if(e.classed("node"))return"node";var t=e.node().parentNode;return void 0!==t&&f.select(t).classed("label")?"label":void 0},Z=function(e){var t=e.select("*");t.classed("focused")?t.classed("focused",!1):t.classed("focused",!0)},$=function(e){var t=e.classed("from"),a=e.select("rect"),n=!a.classed("focused");a.classed("focused",n),f.selectAll("marker#"+U(e.datum(),t)).select("path").classed("focused",n),f.selectAll("."+U(e.datum(),t)).selectAll("path, text").classed("focused",n)},ee=function(e){var t,a=e.node();if(void 0!==m){t=f.select(m);var n=J(t);"node"===n?Z(t):"label"===n&&$(t)}if(m===a)return de(),void(m=void 0);m=a;var r=J(e);"node"===r?Z(e):"label"===r&&$(e)},te=function(){s.selectAll(".node").on("click",function(e){f.select("#otherDetails").classed("hidden",!1),f.select("#class").classed("hidden",!1),f.select("#prop").classed("hidden",!0),ne(f.select("#name"),e.name,e.uri);var t=f.select("#classEquivUri");if(null===t.node());else{var a=f.select(t.node().parentNode);void 0!==e.equivalentClasses?(ae(t,e.equivalentClasses),a.classed("hidden",!1)):a.classed("hidden",!0)}f.select("#typeNode").text(ce(e.type));var n=f.select("#disjointNodes");if(null===t.node());else{var r=f.select(n.node().parentNode);void 0!==e.disjoints?(ae(n,e.disjoints),r.classed("hidden",!1)):r.classed("hidden",!0)}ee(f.select(this))})},ae=function(e,t){e.selectAll("*").remove(),t.forEach(function(t,a){a>0&&e.append("span").text(", "),re(e,t.name,t.uri)})},ne=function(e,t,a){e.selectAll("*").remove(),re(e,t,a)},re=function(e,t,a){(a?e.append("a").attr("href",a):e.append("span")).text(t)},ce=function(e){switch(e){case"class":return"OWL Class";case"thing":return"Thing";case"external":return"External Class";case"equivalent":return"Equivalent Class";case"deprecated":return"Deprecated Class";case"rdfsClass":return"RDFS Class";case"rdfsResource":return"RDFS Resource";case"literal":return"Literal";case"datatype":return"Datatype";case"union":return"Union Of";case"intersection":return"Intersection Of";case"complement":return"Complement Of"}},se=function(e){switch(e){case"object":return"Object Property";case"datatype":return"Datatype Property";case"rdf":return"RDF Property";case"deprecated":return"Deprecated Property";case"external":return"External Property";case"disjoint":return"Disjoint With";case"subclass":return"Subclass of";default:return"Object Property"}},le=function(){s.selectAll(".label .from").on("click",function(e){ie(),ne(f.select("#propname"),e.valueFrom,e.uriFrom),f.select("#typeProp").text(se(e.propertyFrom)),!0===e.inverse?(f.select("#inverse").style("display","block"),ne(f.select("#inverse span"),e.valueTo,e.uriTo)):f.select("#inverse").style("display","none"),void 0!==e.cardTo?(f.select("#minCardinality").style("display","block"),f.select("#minCardinality span").text(e.cardFrom)):f.select("#minCardinality").style("display","none"),void 0!==e.cardFrom?(f.select("#maxCardinality").style("display","block"),f.select("#maxCardinality span").text(e.cardTo)):f.select("#maxCardinality").style("display","none"),ne(f.select("#domain"),e.target.name,e.target.uri),ne(f.select("#range"),e.source.name,e.source.uri),ee(f.select(this))}),s.selectAll(".label .to").on("click",function(e){ie(),ne(f.select("#propname"),e.valueTo,e.uriTo),f.select("#typeProp").text(se(e.propertyTo)),!0===e.inverse?(f.select("#inverse").style("display","block"),ne(f.select("#inverse span"),e.valueFrom,e.uriFrom)):f.select("#inverse").style("display","none"),void 0!==e.cardTo?(f.select("#minCardinality").style("display","block"),f.select("#minCardinality span").text(e.cardTo)):f.select("#minCardinality").style("display","none"),void 0!==e.cardFrom?(f.select("#maxCardinality").style("display","block"),f.select("#maxCardinality span").text(e.cardFrom)):f.select("#maxCardinality").style("display","none"),ne(f.select("#domain"),e.source.name,e.source.uri),ne(f.select("#range"),e.target.name,e.target.uri),ee(f.select(this))})},oe=function(e,t,a){var n=e.subpropertiesTo;"from"===t&&(n=e.subpropertiesFrom),void 0!==n&&n.forEach(function(e){f.select("#label"+e.id+(e.direction?e.direction:"to")).select("rect").classed("indirectHighlighting",a)})},ie=function(){f.select("#otherDetails").classed("hidden",!1),f.select("#prop").classed("hidden",!1),f.select("#class").classed("hidden",!0)},de=function(){f.select("#otherDetails").classed("hidden",!0)};var ue=document.getElementById("graph"),pe=document.getElementById("example").offsetWidth-18;p=e,function(e,m,g){var b=f.select(e).attr("id","graph");void 0!==m&&(h=m),void 0!==g&&(v=g),b.select(".svgGraph").remove(),s=b.append("svg").classed("svgGraph",!0).attr("width",h).attr("height",v).call(N).append("g");var y=document.getElementById("resetOption"),k=document.getElementById("sliderOption"),I=document.getElementById("distanceSlider"),T=document.getElementById("reset");I&&I.remove(),T&&T.remove(),f.select(y).append("button").attr("id","reset").property("type","reset").text("Reset").on("click",R);var S=f.select(k).append("div").attr("id","distanceSlider");a=S.append("label").attr("for","distanceSlider").text("DEFAULT_VISIBLE_LINKDISTANCE"),n=a,t=S.append("input").attr("type","range").attr("min",10).attr("max",600).attr("value","DEFAULT_VISIBLE_LINKDISTANCE").attr("step",10).on("input",W),r=t,F(),c=f.layout.force().charge(q()).distance(B).gravity(.025).linkStrength(.7).size([h,v]).nodes(p.nodes).links(p.links).on("tick",j).start();var A=s.append("defs");p.links.forEach(function(e,t){e.id=t,P(e)||(H(A,e,!1),e.inverse&&H(A,e,!0))}),o=s.selectAll(".link").data(p.links).enter().append("g").attr("class",function(e){return U(e,!0)+" "+U(e,!1)}).classed("link",!0),i=o.append("path").attr("class",function(e){return e.type}).classed("link-path",!0).attr("marker-end",function(e){return P(e)?"":"url(#"+U(e,!1)+")"}).attr("marker-start",function(e){return e.inverse&&!P(e)?"url(#"+U(e,!0)+")":""}),(l=(l=s.selectAll(".label").data(p.links).enter().append("g").classed("label",!0)).filter(function(e){var t=e.valueTo||e.valueFrom;return"disjoint"===e.propertyTo&&(t=!0),t})).filter(function(e){return!e.inverse}).each(function(e){z(f.select(this),e,"to")}),l.filter(function(e){return e.inverse}).each(function(e){z(f.select(this),e,"to"),z(f.select(this),e,"from")}),(d=(d=s.selectAll(".cardinality").data(p.links).enter().append("g").classed("cardinality",!0)).filter(function(e){return e.cardTo||e.cardFrom})).filter(function(e){return e.cardTo}).each(function(){_(f.select(this),"to")}),d.filter(function(e){return e.cardFrom}).each(function(){_(f.select(this),"from")});var M=f.behavior.drag().on("dragstart",function(e){f.event.sourceEvent.stopPropagation(),e.fixed=!0}).on("drag",function(e){e.px=f.event.x,e.py=f.event.y,c.resume()}).on("dragend",function(e){e.fixed=!1});(u=s.selectAll(".node").data(p.nodes).enter().append("g").attr("class","node").on("mouseover",function(e){e.linkIDs&&e.linkIDs.forEach(function(e){f.select(o[0][e]).select("path").classed("hovered",!0)})}).on("mouseout",function(e){e.linkIDs&&e.linkIDs.forEach(function(e){f.select(o[0][e]).select("path").classed("hovered",!1)})}).call(M)).each(function(e){var t=f.select(this);switch(e.type){case"class":!function(e,t){if(void 0!==e)if(void 0!==t?e.append("circle").attr("class",t.type).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").attr("r",E),X(e),void 0!==t){var a=t.name.split("/");a.forEach(function(t,n){Y(e.select("text"),t+(n<a.length-1?"/":""))}),e.append("title").text(t.fullName+" -- "+t.uri)}else Y(e.select("text"),"Class")}(t,e);break;case"thing":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("white",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").classed("white",!0).classed("special",!0).attr("r",O),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Thing"))}(t,e);break;case"equivalent":!function(e,t){if(void 0!==e){if(void 0!==t?(e.append("circle").attr("class","class white embedded").attr("r",t.radius),e.append("circle").attr("class","class").attr("r",function(){return t.radius-4})):(e.append("circle").attr("class","class").attr("r",E-4),e.append("circle").attr("class","link").attr("r",E)),X(e),void 0!==t){Y(e.select("text"),t.name.truncate(t.maxTextWidth));var a=t.equivalentClasses.map(function(e){return e.name}),n=a.join(", ");Q(e.select("text"),"["+n.truncate(t.maxTextWidth)+"]")}else Y(e.select("text"),"EquivalentClass");var r=(e.select("text").property("childElementCount")-1)*L/2;e.select("text").attr("transform",function(){return"translate(0,-"+r+")"})}}(t,e);break;case"deprecated":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","deprecated").classed("class",!0).attr("r",E),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Deprecated"),Q(e.select("text"),"(deprecated)");var a=(e.select("text").property("childElementCount")-1)*L/2;e.select("text").attr("transform",function(){return"translate(0,-"+a+")"})}}(t,e);break;case"external":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","external").classed("class",!0).attr("r",E),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"External","white"),Q(e.select("text"),"(external)","white");var a=(e.select("text").property("childElementCount")-1)*L/2;e.select("text").attr("transform",function(){return"translate(0,-"+a+")"})}}(t,e);break;case"literal":!function(e,t){void 0!==e&&(void 0!==t?e.append("rect").attr("class",t.type).classed("class",!0).classed("special",!0).attr("x",-x/2).attr("y",-w/2).attr("width",x).attr("height",w):e.append("rect").attr("class","literal").classed("class",!0).attr("x",-x/2).attr("y",-w/2).attr("width",x).attr("height",w),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Literal"))}(t,e);break;case"datatype":!function(e,t){void 0!==e&&(void 0!==t?e.append("rect").attr("class",t.type).classed("class",!0).attr("x",-x/2).attr("y",-w/2).attr("width",x).attr("height",w):e.append("rect").attr("class","datatype").classed("class",!0).attr("x",-x/2).attr("y",-w/2).attr("width",x).attr("height",w),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Datatype"))}(t,e);break;case"rdfsClass":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("rdf",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","rdf").classed("rdf",!0).attr("r",E),X(e),void 0!==t?(Y(e.select("text"),t.name.truncate(t.maxTextWidth)),e.append("title").text(t.fullName+" -- "+t.uri)):Y(e.select("text"),"Class"))}(t,e);break;case"rdfsResource":!function(e,t){void 0!==e&&(void 0!==t?e.append("circle").attr("class","class").classed("rdf",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","class").classed("rdf",!0).classed("special",!0).attr("r",O),X(e),Y(e.select("text"),void 0!==t?t.name.truncate(t.maxTextWidth):"Resource"))}(t,e);break;case"intersection":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","intersection").classed("class",!0).classed("special",!0).attr("r",C);var a=e.append("g").classed("embedded",!0);a.append("path").attr("class","nostroke").classed("symbol",!0).attr("d","m 24.777,0.771 c0,16.387-13.607,23.435-19.191,23.832S-15.467,14.526-15.467,0.424S-1.216-24.4,5.437-24.4 C12.09-24.4,24.777-15.616,24.777,0.771z"),a.append("circle").attr("class","nofill").classed("fineline",!0).attr("r",C-15),a.append("circle").attr("cx",10).attr("class","nofill").classed("fineline",!0).attr("r",C-15),a.append("path").attr("class","nofill").attr("d","m 9,5 c 0,-2 0,-4 0,-6 0,0 0,0 0,0 0,0 0,-1.8 -1,-2.3 -0.7,-0.6 -1.7,-0.8 -2.9,-0.8 -1.2,0 -2,0 -3,0.8 -0.7,0.5 -1,1.4 -1,2.3 0,2 0,4 0,6"),a.attr("transform","translate(-"+(C-15)/5+",-"+(C-15)/100+")")}}(t,e);break;case"union":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","union").classed("class",!0).classed("special",!0).attr("r",C);var a=e.append("g").classed("embedded",!0);a.append("circle").attr("class","symbol").attr("r",C-15),a.append("circle").attr("cx",10).attr("class","symbol").classed("fineline",!0).attr("r",C-15),a.append("circle").attr("class","nofill").classed("fineline",!0).attr("r",C-15),a.append("path").attr("class","link").attr("d","m 1,-3 c 0,2 0,4 0,6 0,0 0,0 0,0 0,2 2,3 4,3 2,0 4,-1 4,-3 0,-2 0,-4 0,-6"),a.attr("transform","translate(-"+(C-15)/5+",-"+(C-15)/100+")")}}(t,e);break;case"complement":!function(e,t){if(void 0!==e){void 0!==t?e.append("circle").attr("class",t.type).classed("class",!0).classed("special",!0).attr("r",function(){return t.radius}):e.append("circle").attr("class","complement").classed("class",!0).classed("special",!0).attr("r",C);var a=e.append("g").classed("embedded",!0);a.append("circle").attr("class","symbol").classed("fineline",!0).attr("r",C-15),a.append("path").attr("class","nofill").attr("d","m -7,-1.5 12,0 0,6"),a.attr("transform","translate(-"+(C-15)/100+",-"+(C-15)/100+")")}}(t,e);break;default:console.log("PROBLEM DURING DRAWING CLASSES - UNKNOWN TYPE: "+e.type)}}),te(),le()}(ue,pe,800),setTimeout(window.centerGraph,2e3)},Ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={codeLists:{},selectedVocabOption:null,loading:!1,codeListInstances:null,codeList:null,sparqlPreview:!1,codeListInstanceGraphNodes:null,codeListInstancesGraphLoading:!1},a.onVocabSelected=function(e){a.setState({selectedVocabOption:e},function(){a.fetchCodeLists()})},a.fetchCodeLists=function(){a.setState({loading:!0});var e="query=".concat(K).concat(Q(a.state.selectedVocabOption.value));return D.a.post(U,e,Z).then(function(e){var t={};e.data.results.bindings.filter(function(e){return e.n.value>0}).forEach(function(e){var a=e.d,n=e.p,r=e.c,c=e.n,s=V()(),l={d:a,p:n,c:r,n:c,i:0};t[s]=l});var n={};Object.keys(t).forEach(function(e){n[t[e].c.value]=t[e].n.value}),window.records[a.state.selectedVocabOption.value]=n,a.setState({codeLists:t,loading:!1})})},a.showSparqlPreview=function(e){return function(){a.setState({sparqlPreview:e})}},a.showInstances=function(e){return function(){var t=a.state.codeLists[e].c,n="query=".concat(K).concat(X(t.value,a.state.selectedVocabOption.value));return a.setState({codeListInstancesLoading:!0}),D.a.post(U,n,Z).then(function(e){a.setState({codeListInstancesLoading:!1,codeListInstances:e.data.results.bindings,codeList:t})})}},a.closeSparqlModal=function(){a.setState({sparqlPreview:!1})},a.closeInstancesModal=function(){a.setState({codeListInstances:null,codeList:null})},a.closeGraphModal=function(){a.setState({codeListInstanceGraphNodes:null})},a.handleLoadGraph=function(){var e="query=".concat(K).concat(J(a.state.codeList.value,a.state.selectedVocabOption.value));return D.a.post(U,e,Z).then(function(e){var t=Ge(e.data.results.bindings);a.setState({codeListInstancesGraphLoading:!1,codeListInstanceGraphNodes:t},function(){setTimeout(function(){Ve(t)},1e3)})})},a.render=function(){var e=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.controls},r.a.createElement(le.a,{align:"left",variant:"h5"},"Find code lists"),r.a.createElement("div",null,r.a.createElement(F.a,{color:"primary",onClick:a.showSparqlPreview(Q(a.state.selectedVocabOption?a.state.selectedVocabOption.value:"__YOUR_SELECTED_VOCAB__").trim())},"View SPARQL\xa0",r.a.createElement(M.a,null)))),r.a.createElement(le.a,{align:"left",variant:"subtitle2"},"This tool will help you identify code lists embedded in a vocabulary"),r.a.createElement(R.a,{className:e.paper},r.a.createElement(Re,{onVocabSelected:a.onVocabSelected,onReloadClick:a.fetchCodeLists}),r.a.createElement(R.a,{className:e.root},r.a.createElement(We,{codeLists:a.state.codeLists,showInstances:a.showInstances,vocabIsSelected:!!a.state.selectedVocabOption}))),r.a.createElement(re.a,{onClose:a.closeInstancesModal,open:!(!a.state.codeListInstances&&!a.state.codeListInstancesLoading),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ce.a,null,r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"Vocabulary: ",a.state.selectedVocabOption&&ae(a.state.selectedVocabOption.value)),a.state.codeList&&r.a.createElement("span",null,r.a.createElement(F.a,{color:"primary",onClick:a.handleLoadGraph},"Visualize\xa0",r.a.createElement(Be.a,null)),r.a.createElement(F.a,{color:"primary",onClick:a.showSparqlPreview(X(a.state.codeList.value,a.state.selectedVocabOption.value).trim())},"View SPARQL\xa0",r.a.createElement(M.a,null)))),r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"Code list: ",a.state.codeList&&ae(a.state.codeList.value)))),r.a.createElement(qe,{loading:a.state.codeListInstancesLoading,codeListInstances:a.state.codeListInstances,codeList:a.state.codeList})),r.a.createElement(re.a,{onClose:a.closeGraphModal,open:!(!a.state.codeListInstanceGraphNodes&&!a.state.codeListInstancesGraphLoading),fullWidth:!0,maxWidth:"xl"},r.a.createElement(ce.a,null,r.a.createElement("div",{className:e.dialogTitle},r.a.createElement("span",null,"Code list view (showing max 100 nodes)"),a.state.codeList&&ae(a.state.codeList.value))),r.a.createElement("div",{className:"ontology-graph"},r.a.createElement("div",{id:"example"},r.a.createElement("div",{id:"control"},r.a.createElement("div",null,r.a.createElement("div",{id:"sliderOption"})),r.a.createElement("div",{id:"resetOption"})),r.a.createElement("div",{id:"graph"})))),r.a.createElement(re.a,{onClose:a.closeSparqlModal,open:!!a.state.sparqlPreview,fullWidth:!0,maxWidth:"md"},r.a.createElement(ce.a,null,"SPARQL query",r.a.createElement(le.a,{variant:"body2"},"See also ",ne("https://github.com/nvbach91/iga-hybrid"))),r.a.createElement(xe.a,{readOnly:!0,className:e.codeBlock,defaultValue:a.state.sparqlPreview})))},a}return Object(d.a)(t,e),t}(r.a.Component),He=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},codeBlock:{padding:"10px",width:"calc(100% - 24px)",margin:"10px auto",fontWeight:"bold",backgroundColor:"#ccc",height:"auto",border:"none"},controls:{display:"flex",justifyContent:"space-between"},dialogTitle:{display:"flex",justifyContent:"space-between"}}})(Ue);function Ke(e){var t=e.rows.map(function(e){var t=window.cached.prefixes[e];return{id:e,prefix:ae(t),iri:ne(t)}});return r.a.createElement(R.a,{style:{height:400,width:"100%"}},r.a.createElement(pe,{rowCount:t.length,rowGetter:function(e){var a=e.index;return t[a]},columns:[{width:200,label:"Prefix",dataKey:"prefix"},{flexGrow:1,width:0,label:"IRI",dataKey:"iri"}]}))}var ze=a(409),_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={searchValue:"",rows:Object.keys(window.cached.prefixes)},a.handleInputChange=function(e){return function(t){var n;a.setState((n={},Object(p.a)(n,e,t.target.value),Object(p.a)(n,"rows",Object.keys(window.cached.prefixes).filter(function(e){return e.toLowerCase().includes(t.target.value.trim().toLowerCase())})),n))}},a.render=function(){var e=a.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{align:"left",variant:"h5"},"Search for prefixes"),r.a.createElement(le.a,{align:"left",variant:"subtitle2"},"These prefixes come from ",ne("https://prefix.cc/context")),r.a.createElement(R.a,{className:e.paper},r.a.createElement(Ne.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(ke.a,{item:!0},r.a.createElement(Le.a,{className:e.block,color:"inherit"})),r.a.createElement(Ee.a,{className:e.formControl},r.a.createElement(ze.a,{value:a.state.searchValue,onChange:a.handleInputChange("searchValue")}))))),r.a.createElement(R.a,{className:e.root},r.a.createElement(Ke,{rows:a.state.rows}))))},a}return Object(d.a)(t,e),t}(r.a.Component),Ye=Object(h.a)(function(e){return{paper:{margin:"auto",position:"relative"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},formControl:{flexGrow:1}}})(_e),Qe=a(406),Xe=a(197),Je=a.n(Xe),Ze=a(402),$e=a(194),et=a.n($e),tt=a(196),at=a.n(tt),nt=a(407),rt=a(410),ct=a(416);var st=Object(h.a)(function(e){return{secondaryBar:{zIndex:0},menuButton:{marginLeft:-e.spacing(1)},iconButtonAvatar:{padding:4},link:{textDecoration:"none",color:"rgba(255, 255, 255, 0.7)","&:hover":{color:e.palette.common.white}},button:{borderColor:"rgba(255, 255, 255, 0.7)"}}})(function(e){var t=e.classes,a=e.onDrawerToggle,n=e.onTabSwitch,c=e.tabIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(b.a,{smUp:!0},r.a.createElement(ke.a,{item:!0},r.a.createElement(Ze.a,{color:"inherit","aria-label":"Open drawer",onClick:a,className:t.menuButton},r.a.createElement(et.a,null)))),r.a.createElement(ke.a,{item:!0,xs:!0}),r.a.createElement(ke.a,{item:!0},r.a.createElement(ct.a,{title:"Alerts \u2022 No alters"},r.a.createElement(Ze.a,{color:"inherit"},r.a.createElement(at.a,null)))),r.a.createElement(ke.a,{item:!0},r.a.createElement(Ze.a,{color:"inherit",className:t.iconButtonAvatar},r.a.createElement(Qe.a,{className:t.avatar,src:"favicon.png",alt:"avatar"})))))),r.a.createElement(Ne.a,{component:"div",className:t.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{container:!0,alignItems:"center",spacing:1},r.a.createElement(ke.a,{item:!0,xs:!0},r.a.createElement(le.a,{color:"inherit",variant:"h5",component:"h1"},"LOV Analyzer")),r.a.createElement(ke.a,{item:!0},r.a.createElement(ct.a,{title:"Help"},r.a.createElement(Ze.a,{color:"inherit"},r.a.createElement(Je.a,null))))))),r.a.createElement(Ne.a,{component:"div",className:t.secondaryBar,color:"primary",position:"static",elevation:0},r.a.createElement(rt.a,{value:c,textColor:"inherit"},r.a.createElement(nt.a,{textColor:"inherit",label:"Code lists",onClick:n(0)}),r.a.createElement(nt.a,{textColor:"inherit",label:"Class Fragments",onClick:n(1)}),r.a.createElement(nt.a,{textColor:"inherit",label:"Prefixes",onClick:n(2)}))))}),lt=Object(f.a)({typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},shape:{borderRadius:8}});lt=Object(m.a)({},lt,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:lt.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:lt.palette.common.white}},MuiTab:{root:Object(p.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},lt.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:lt.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:lt.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}},props:{MuiTab:{disableRipple:!0}},mixins:Object(m.a)({},lt.mixins,{toolbar:{minHeight:48}})});var ot={root:{display:"flex",minHeight:"100vh"},drawer:Object(p.a)({},lt.breakpoints.up("sm"),{width:192,flexShrink:0}),appPage:{flex:1,display:"flex",flexDirection:"column"},mainPage:{flex:1,padding:"48px 36px 0",background:"#eaeff1"}},it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={mobileOpen:!1,tabIndex:0},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.handleTabSwitch=function(e){return function(){a.setState({tabIndex:e})}},a.renderPage=function(){switch(a.state.tabIndex){case 0:return r.a.createElement(He,null);case 1:return r.a.createElement(Ae,null);case 2:return r.a.createElement(Ye,null);default:return r.a.createElement(Ae,null)}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(v.a,{theme:lt},r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement("nav",{className:e.drawer},r.a.createElement(b.a,{smUp:!0,implementation:"js"},r.a.createElement(P,{PaperProps:{style:{width:192}},variant:"temporary",open:this.state.mobileOpen,onClose:this.handleDrawerToggle})),r.a.createElement(b.a,{xsDown:!0,implementation:"css"},r.a.createElement(P,{PaperProps:{style:{width:192}}}))),r.a.createElement("div",{className:e.appPage},r.a.createElement(st,{onDrawerToggle:this.handleDrawerToggle,onTabSwitch:this.handleTabSwitch,tabIndex:this.state.tabIndex}),r.a.createElement("main",{className:e.mainPage},this.renderPage()))))}}]),t}(r.a.Component),dt=Object(h.a)(ot)(it),ut=(a(340),a(341),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).componentWillMount=function(){window.records={},D.a.get("https://prefix.cc/context").then(function(e){window.cached.prefixes=e.data["@context"],window.cached.prefixes["lm-voag"]="http://voag.linkedmodel.org/voag#",window.cached.prefixes.ce="http://www.ebusiness-unibw.org/ontologies/consumerelectronics/v1#",window.cached.prefixes.rcc="http://web.resource.org/cc/",window.cached.prefixes["co-bbc"]="http://www.bbc.co.uk/ontologies/bbc/",window.cached.prefixes["gleif-base"]="https://www.gleif.org/ontology/Base/",window.cached.prefixes["gleif-l1"]="https://www.gleif.org/ontology/L1/",window.cached.prefixes["gleif-l2"]="https://www.gleif.org/ontology/L2/",window.cached.prefixes["gleif-re"]="https://www.gleif.org/ontology/ReportingException/",window.cached.prefixes["gleif-gc"]="https://www.gleif.org/ontology/Geocoding/",window.cached.prefixes.cubes="http://purl.org/qb4olap/cubes#",window.cached.prefixes.squdt="http://qudt.org/schema/qudt/",window.cached.prefixes.dkdk="http://www.data-knowledge.org/dk/",window.cached.prefixes.kanzaki="http://www.kanzaki.com/ns/music#",window.cached.reversePrefixes={},Object.keys(window.cached.prefixes).forEach(function(e){window.cached.reversePrefixes[window.cached.prefixes[e]]=e})})},a.render=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(dt,null))},a}return Object(d.a)(t,e),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.cached={},s.a.render(r.a.createElement(ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.fe1abc14.chunk.js.map